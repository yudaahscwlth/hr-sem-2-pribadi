-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Oct 08, 2025 at 11:50 AM
-- Server version: 10.4.32-MariaDB
-- PHP Version: 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `dummyhr`
--

-- --------------------------------------------------------

--
-- Table structure for table `cuti`
--

CREATE TABLE `cuti` (
  `id_cuti` bigint(20) UNSIGNED NOT NULL,
  `id_pegawai` int(11) NOT NULL,
  `disetujui_oleh` int(11) DEFAULT NULL,
  `tanggal_pengajuan` date NOT NULL,
  `tanggal_mulai` date NOT NULL,
  `tanggal_selesai` date NOT NULL,
  `id_jenis_cuti` bigint(20) UNSIGNED NOT NULL,
  `status_cuti` enum('Disetujui','Ditolak','Menunggu') CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'Menunggu',
  `keterangan` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `cuti`
--

INSERT INTO `cuti` (`id_cuti`, `id_pegawai`, `disetujui_oleh`, `tanggal_pengajuan`, `tanggal_mulai`, `tanggal_selesai`, `id_jenis_cuti`, `status_cuti`, `keterangan`) VALUES
(5, 1, NULL, '2025-07-02', '2025-07-03', '2025-07-04', 1, 'Disetujui', 'Liburan'),
(6, 2, NULL, '2025-07-02', '2025-07-03', '2025-07-07', 1, 'Ditolak', 'tidak'),
(8, 2, 21, '2025-07-03', '2025-07-04', '2025-07-10', 1, 'Ditolak', 'tolak'),
(10, 2, 6, '2025-07-07', '2025-07-08', '2025-07-13', 1, 'Disetujui', 'tes'),
(11, 3, 21, '2025-07-10', '2025-07-11', '2025-07-12', 1, 'Ditolak', 'tidak'),
(12, 1, 21, '2025-07-10', '2025-07-11', '2025-07-12', 1, 'Disetujui', 'cuti'),
(13, 2, 21, '2025-07-10', '2025-07-31', '2025-08-01', 5, 'Disetujui', 'Meeting luar kota'),
(14, 2, 48, '2025-07-11', '2025-07-15', '2025-07-16', 1, 'Disetujui', 'test'),
(15, 38, NULL, '2025-09-06', '2025-09-06', '2025-09-12', 1, 'Menunggu', 'aaa');

--
-- Triggers `cuti`
--
DELIMITER $$
CREATE TRIGGER `cuti_log_activity_delete` AFTER DELETE ON `cuti` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Pengajuan cuti dihapus untuk pegawai ID: ", OLD.id_pegawai),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `cuti_log_activity_insert` AFTER INSERT ON `cuti` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Pengajuan cuti baru oleh pegawai ID: ", NEW.id_pegawai),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `cuti_log_activity_update` AFTER UPDATE ON `cuti` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Status cuti diupdate: ", NEW.status_cuti, " untuk pegawai ID: ", NEW.id_pegawai),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `departemen`
--

CREATE TABLE `departemen` (
  `id_departemen` int(11) NOT NULL,
  `nama_departemen` varchar(255) NOT NULL,
  `kepala_departemen` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `departemen`
--

INSERT INTO `departemen` (`id_departemen`, `nama_departemen`, `kepala_departemen`) VALUES
(1, 'Teknologi Informasi', NULL),
(2, 'Keuangan', NULL),
(3, 'Sumber Daya Manusia', NULL);

--
-- Triggers `departemen`
--
DELIMITER $$
CREATE TRIGGER `departemen_log_activity_delete` AFTER DELETE ON `departemen` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Departemen dihapus: ", OLD.nama_departemen),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `departemen_log_activity_insert` AFTER INSERT ON `departemen` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Departemen baru ditambahkan: ", NEW.nama_departemen),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `departemen_log_activity_update` AFTER UPDATE ON `departemen` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Departemen diupdate: ", NEW.nama_departemen),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `jabatan`
--

CREATE TABLE `jabatan` (
  `id_jabatan` int(11) NOT NULL,
  `nama_jabatan` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `jabatan`
--

INSERT INTO `jabatan` (`id_jabatan`, `nama_jabatan`) VALUES
(1, 'Staff'),
(3, 'Kepala'),
(4, 'Kepala Departemen'),
(5, 'Kepala Yayasan');

--
-- Triggers `jabatan`
--
DELIMITER $$
CREATE TRIGGER `jabatan_log_activity_delete` AFTER DELETE ON `jabatan` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Jabatan dihapus: ", OLD.nama_jabatan),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `jabatan_log_activity_insert` AFTER INSERT ON `jabatan` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Jabatan baru ditambahkan: ", NEW.nama_jabatan),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `jabatan_log_activity_update` AFTER UPDATE ON `jabatan` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Jabatan diupdate: ", NEW.nama_jabatan),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `jawaban_kuisioner`
--

CREATE TABLE `jawaban_kuisioner` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `penilaian_id` bigint(20) UNSIGNED NOT NULL,
  `kuisioner_id` bigint(20) UNSIGNED NOT NULL,
  `skor` tinyint(4) NOT NULL COMMENT 'Skor dari penilai, contoh: 1-5',
  `komentar` text DEFAULT NULL COMMENT 'Komentar per pertanyaan (optional)',
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `jawaban_kuisioner`
--

INSERT INTO `jawaban_kuisioner` (`id`, `penilaian_id`, `kuisioner_id`, `skor`, `komentar`, `created_at`, `updated_at`) VALUES
(11, 4, 68, 5, NULL, '2025-07-01 04:18:22', '2025-07-01 04:18:22'),
(12, 4, 25, 5, NULL, '2025-07-01 04:18:22', '2025-07-01 04:18:22'),
(13, 4, 26, 5, NULL, '2025-07-01 04:18:22', '2025-07-01 04:18:22'),
(14, 4, 33, 5, NULL, '2025-07-01 04:18:22', '2025-07-01 04:18:22'),
(15, 4, 17, 5, NULL, '2025-07-01 04:18:22', '2025-07-01 04:18:22'),
(16, 3, 68, 5, NULL, '2025-07-01 13:09:59', '2025-07-01 13:09:59'),
(17, 3, 25, 5, NULL, '2025-07-01 13:09:59', '2025-07-01 13:09:59'),
(18, 3, 26, 5, NULL, '2025-07-01 13:09:59', '2025-07-01 13:09:59'),
(19, 3, 33, 5, NULL, '2025-07-01 13:09:59', '2025-07-01 13:09:59'),
(20, 3, 17, 5, NULL, '2025-07-01 13:09:59', '2025-07-01 13:09:59'),
(21, 5, 68, 4, NULL, '2025-07-01 13:31:00', '2025-07-01 13:31:00'),
(22, 5, 25, 4, NULL, '2025-07-01 13:31:00', '2025-07-01 13:31:00'),
(23, 5, 33, 4, NULL, '2025-07-01 13:31:00', '2025-07-01 13:31:00'),
(24, 5, 37, 4, NULL, '2025-07-01 13:31:00', '2025-07-01 13:31:00'),
(25, 5, 17, 4, NULL, '2025-07-01 13:31:00', '2025-07-01 13:31:00');

--
-- Triggers `jawaban_kuisioner`
--
DELIMITER $$
CREATE TRIGGER `jawaban_kuisioner_log_activity_delete` AFTER DELETE ON `jawaban_kuisioner` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Jawaban kuisioner dihapus untuk kuisioner ID: ", OLD.kuisioner_id),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `jawaban_kuisioner_log_activity_insert` AFTER INSERT ON `jawaban_kuisioner` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Jawaban kuisioner baru untuk kuisioner ID: ", NEW.kuisioner_id),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `jawaban_kuisioner_log_activity_update` AFTER UPDATE ON `jawaban_kuisioner` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Jawaban kuisioner diupdate untuk kuisioner ID: ", NEW.kuisioner_id),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `jenis_cuti`
--

CREATE TABLE `jenis_cuti` (
  `id_jenis_cuti` bigint(20) UNSIGNED NOT NULL,
  `nama_jenis_cuti` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `deskripsi` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `max_hari_cuti` int(11) NOT NULL DEFAULT 12,
  `is_active` tinyint(1) NOT NULL DEFAULT 1,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `jenis_cuti`
--

INSERT INTO `jenis_cuti` (`id_jenis_cuti`, `nama_jenis_cuti`, `deskripsi`, `max_hari_cuti`, `is_active`, `created_at`, `updated_at`) VALUES
(1, 'Cuti Tahunan', NULL, 12, 1, NULL, NULL),
(2, 'Cuti Sakit', NULL, 10, 1, NULL, NULL),
(3, 'Cuti Melahirkan', NULL, 90, 1, NULL, NULL),
(4, 'Cuti Besar', NULL, 30, 1, NULL, NULL),
(5, 'Cuti Penting', NULL, 5, 1, NULL, NULL);

--
-- Triggers `jenis_cuti`
--
DELIMITER $$
CREATE TRIGGER `jenis_cuti_log_activity_delete` AFTER DELETE ON `jenis_cuti` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Jenis cuti dihapus: ", OLD.nama_jenis_cuti),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `jenis_cuti_log_activity_insert` AFTER INSERT ON `jenis_cuti` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Jenis cuti baru ditambahkan: ", NEW.nama_jenis_cuti),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `jenis_cuti_log_activity_update` AFTER UPDATE ON `jenis_cuti` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Jenis cuti diupdate: ", NEW.nama_jenis_cuti),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `kehadiran`
--

CREATE TABLE `kehadiran` (
  `id_kehadiran` int(11) NOT NULL,
  `id_pegawai` int(11) NOT NULL,
  `tanggal` date NOT NULL,
  `lokasi_kantor_id` int(11) NOT NULL,
  `waktu_masuk` datetime NOT NULL,
  `waktu_pulang` timestamp NULL DEFAULT NULL,
  `total_jam_kerja` decimal(4,2) DEFAULT NULL,
  `durasi_kerja` varchar(10) DEFAULT NULL,
  `status_jam_kerja` enum('Memenuhi','Kurang','Setengah Hari') DEFAULT NULL,
  `status_kehadiran` enum('Hadir','Tidak Hadir','Terlambat','Sakit','Izin') NOT NULL,
  `created_at` timestamp NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `kehadiran`
--

INSERT INTO `kehadiran` (`id_kehadiran`, `id_pegawai`, `tanggal`, `lokasi_kantor_id`, `waktu_masuk`, `waktu_pulang`, `total_jam_kerja`, `durasi_kerja`, `status_jam_kerja`, `status_kehadiran`, `created_at`, `updated_at`) VALUES
(21, 1, '2025-07-15', 3, '2025-07-15 08:00:00', '2025-07-15 08:51:00', 7.85, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(22, 2, '2025-07-15', 3, '2025-07-15 12:03:00', '2025-07-15 12:43:00', 7.67, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(23, 3, '2025-07-15', 4, '2025-07-15 08:56:00', '2025-07-15 10:13:00', 8.28, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(24, 5, '2025-07-15', 4, '2025-07-15 15:48:00', '2025-07-15 16:58:00', 8.17, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(25, 6, '2025-07-15', 4, '2025-07-15 18:29:00', '2025-07-15 19:55:00', 8.43, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(26, 1, '2025-07-14', 4, '2025-07-14 17:32:00', '2025-07-14 18:51:00', 8.32, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(27, 2, '2025-07-14', 3, '2025-07-14 11:17:00', '2025-07-14 12:44:00', 8.45, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(28, 3, '2025-07-14', 3, '2025-07-14 18:29:00', '2025-07-14 20:03:00', 8.57, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(29, 5, '2025-07-14', 3, '2025-07-14 08:42:00', '2025-07-14 09:53:00', 8.18, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(30, 6, '2025-07-14', 4, '2025-07-14 19:59:00', '2025-07-14 21:18:00', 8.32, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(31, 1, '2025-07-13', 4, '2025-07-13 19:23:00', '2025-07-13 20:58:00', 8.58, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(32, 2, '2025-07-13', 4, '2025-07-13 13:18:00', '2025-07-13 14:50:00', 8.53, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(33, 3, '2025-07-13', 3, '2025-07-13 07:41:00', '2025-07-13 08:25:00', 7.73, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(34, 5, '2025-07-13', 4, '2025-07-13 15:26:00', '2025-07-13 17:26:00', 9.00, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(35, 6, '2025-07-13', 4, '2025-07-13 14:59:00', '2025-07-13 15:59:00', 8.00, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(36, 1, '2025-07-12', 4, '2025-07-12 17:43:00', '2025-07-12 18:20:00', 7.62, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(37, 2, '2025-07-12', 4, '2025-07-12 09:24:00', '2025-07-12 10:32:00', 8.13, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(38, 3, '2025-07-12', 4, '2025-07-12 09:01:00', '2025-07-12 10:09:00', 8.13, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(39, 5, '2025-07-12', 3, '2025-07-12 13:32:00', '2025-07-12 15:05:00', 8.55, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(40, 6, '2025-07-12', 4, '2025-07-12 11:10:00', '2025-07-12 12:28:00', 8.30, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(41, 1, '2025-07-11', 3, '2025-07-11 18:18:00', '2025-07-11 19:29:00', 8.18, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(42, 2, '2025-07-11', 3, '2025-07-11 07:30:00', '2025-07-11 08:27:00', 7.95, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(43, 3, '2025-07-11', 3, '2025-07-11 15:45:00', '2025-07-11 16:43:00', 7.97, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(44, 5, '2025-07-11', 4, '2025-07-11 11:39:00', '2025-07-11 12:33:00', 7.90, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(45, 6, '2025-07-11', 4, '2025-07-11 16:08:00', '2025-07-11 18:00:00', 8.87, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(46, 1, '2025-07-10', 3, '2025-07-10 07:49:00', '2025-07-10 09:23:00', 8.57, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(47, 2, '2025-07-10', 3, '2025-07-10 07:41:00', '2025-07-10 08:48:00', 8.12, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(48, 3, '2025-07-10', 4, '2025-07-10 18:22:00', '2025-07-10 18:57:00', 7.58, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(49, 5, '2025-07-10', 4, '2025-07-10 18:54:00', '2025-07-10 19:55:00', 8.02, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(50, 6, '2025-07-10', 3, '2025-07-10 11:45:00', '2025-07-10 12:19:00', 7.57, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(51, 1, '2025-07-09', 3, '2025-07-09 14:15:00', '2025-07-09 15:22:00', 8.12, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(52, 2, '2025-07-09', 3, '2025-07-09 09:03:00', '2025-07-09 09:41:00', 7.63, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(53, 3, '2025-07-09', 4, '2025-07-09 13:04:00', '2025-07-09 14:22:00', 8.30, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(54, 5, '2025-07-09', 3, '2025-07-09 12:52:00', '2025-07-09 13:40:00', 7.80, '8:00', 'Memenuhi', 'Sakit', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(55, 6, '2025-07-09', 3, '2025-07-09 15:30:00', '2025-07-09 16:09:00', 7.65, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(56, 1, '2025-07-08', 4, '2025-07-08 17:11:00', '2025-07-08 19:00:00', 8.82, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(57, 2, '2025-07-08', 3, '2025-07-08 10:46:00', '2025-07-08 11:57:00', 8.18, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(58, 3, '2025-07-08', 4, '2025-07-08 12:30:00', '2025-07-08 13:40:00', 8.17, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(59, 5, '2025-07-08', 3, '2025-07-08 08:19:00', '2025-07-08 09:58:00', 8.65, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(60, 6, '2025-07-08', 4, '2025-07-08 18:19:00', '2025-07-08 20:10:00', 8.85, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(61, 1, '2025-07-07', 4, '2025-07-07 12:35:00', '2025-07-07 14:27:00', 8.87, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(62, 2, '2025-07-07', 3, '2025-07-07 16:20:00', '2025-07-07 17:46:00', 8.43, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(63, 3, '2025-07-07', 3, '2025-07-07 11:37:00', '2025-07-07 12:15:00', 7.63, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(64, 5, '2025-07-07', 4, '2025-07-07 14:09:00', '2025-07-07 15:11:00', 8.03, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(65, 6, '2025-07-07', 4, '2025-07-07 19:42:00', '2025-07-07 20:47:00', 8.08, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(66, 1, '2025-07-06', 3, '2025-07-06 13:59:00', '2025-07-06 14:37:00', 7.63, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(67, 2, '2025-07-06', 4, '2025-07-06 13:56:00', '2025-07-06 15:16:00', 8.33, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(68, 3, '2025-07-06', 4, '2025-07-06 11:03:00', '2025-07-06 12:08:00', 8.08, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(69, 5, '2025-07-06', 4, '2025-07-06 12:36:00', '2025-07-06 13:46:00', 8.17, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(70, 6, '2025-07-06', 4, '2025-07-06 09:02:00', '2025-07-06 10:42:00', 8.67, '9:00', 'Memenuhi', 'Sakit', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(71, 1, '2025-07-05', 4, '2025-07-05 19:19:00', '2025-07-05 19:49:00', 7.50, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(72, 2, '2025-07-05', 3, '2025-07-05 13:20:00', '2025-07-05 14:42:00', 8.37, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(73, 3, '2025-07-05', 4, '2025-07-05 18:38:00', '2025-07-05 19:08:00', 7.50, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(74, 5, '2025-07-05', 4, '2025-07-05 12:48:00', '2025-07-05 14:38:00', 8.83, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(75, 6, '2025-07-05', 3, '2025-07-05 09:48:00', '2025-07-05 10:18:00', 7.50, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(76, 1, '2025-07-04', 3, '2025-07-04 13:01:00', '2025-07-04 13:32:00', 7.52, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(77, 2, '2025-07-04', 3, '2025-07-04 08:35:00', '2025-07-04 10:22:00', 8.78, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(78, 3, '2025-07-04', 3, '2025-07-04 18:28:00', '2025-07-04 19:45:00', 8.28, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(79, 5, '2025-07-04', 4, '2025-07-04 19:52:00', '2025-07-04 21:04:00', 8.20, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(80, 6, '2025-07-04', 3, '2025-07-04 07:36:00', '2025-07-04 09:24:00', 8.80, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(81, 1, '2025-07-03', 3, '2025-07-03 08:42:00', '2025-07-03 09:30:00', 7.80, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(82, 2, '2025-07-03', 3, '2025-07-03 18:21:00', '2025-07-03 19:07:00', 7.77, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(83, 3, '2025-07-03', 4, '2025-07-03 08:22:00', '2025-07-03 09:34:00', 8.20, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(84, 5, '2025-07-03', 3, '2025-07-03 15:03:00', '2025-07-03 16:40:00', 8.62, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(85, 6, '2025-07-03', 3, '2025-07-03 13:10:00', '2025-07-03 15:09:00', 8.98, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(86, 1, '2025-07-02', 4, '2025-07-02 11:08:00', '2025-07-02 11:50:00', 7.70, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(87, 2, '2025-07-02', 3, '2025-07-02 18:01:00', '2025-07-02 19:39:00', 8.63, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(88, 3, '2025-07-02', 4, '2025-07-02 10:36:00', '2025-07-02 11:10:00', 7.57, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(89, 5, '2025-07-02', 3, '2025-07-02 10:38:00', '2025-07-02 11:39:00', 8.02, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(90, 6, '2025-07-02', 4, '2025-07-02 16:48:00', '2025-07-02 18:11:00', 8.38, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(91, 1, '2025-07-01', 3, '2025-07-01 10:02:00', '2025-07-01 11:29:00', 8.45, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(92, 2, '2025-07-01', 3, '2025-07-01 07:46:00', '2025-07-01 08:56:00', 8.17, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(93, 3, '2025-07-01', 4, '2025-07-01 09:32:00', '2025-07-01 10:36:00', 8.07, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(94, 5, '2025-07-01', 4, '2025-07-01 17:14:00', '2025-07-01 17:48:00', 7.57, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(95, 6, '2025-07-01', 3, '2025-07-01 18:46:00', '2025-07-01 20:41:00', 8.92, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(96, 1, '2025-06-30', 3, '2025-06-30 18:59:00', '2025-06-30 19:33:00', 7.57, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(97, 2, '2025-06-30', 3, '2025-06-30 07:48:00', '2025-06-30 09:23:00', 8.58, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(98, 3, '2025-06-30', 3, '2025-06-30 15:13:00', '2025-06-30 16:24:00', 8.18, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(99, 5, '2025-06-30', 4, '2025-06-30 13:31:00', '2025-06-30 14:42:00', 8.18, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(100, 6, '2025-06-30', 4, '2025-06-30 09:25:00', '2025-06-30 10:29:00', 8.07, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(101, 1, '2025-06-29', 3, '2025-06-29 17:34:00', '2025-06-29 19:33:00', 8.98, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(102, 2, '2025-06-29', 3, '2025-06-29 19:19:00', '2025-06-29 19:57:00', 7.63, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(103, 3, '2025-06-29', 3, '2025-06-29 11:41:00', '2025-06-29 13:01:00', 8.33, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(104, 5, '2025-06-29', 4, '2025-06-29 13:11:00', '2025-06-29 14:29:00', 8.30, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(105, 6, '2025-06-29', 3, '2025-06-29 12:08:00', '2025-06-29 13:32:00', 8.40, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(106, 1, '2025-06-28', 4, '2025-06-28 13:14:00', '2025-06-28 14:25:00', 8.18, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(107, 2, '2025-06-28', 3, '2025-06-28 16:55:00', '2025-06-28 18:22:00', 8.45, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(108, 3, '2025-06-28', 4, '2025-06-28 13:59:00', '2025-06-28 15:32:00', 8.55, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(109, 5, '2025-06-28', 4, '2025-06-28 09:21:00', '2025-06-28 09:57:00', 7.60, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(110, 6, '2025-06-28', 4, '2025-06-28 12:42:00', '2025-06-28 14:32:00', 8.83, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(111, 1, '2025-06-27', 3, '2025-06-27 17:52:00', '2025-06-27 18:42:00', 7.83, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(112, 2, '2025-06-27', 3, '2025-06-27 19:16:00', '2025-06-27 20:24:00', 8.13, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(113, 3, '2025-06-27', 4, '2025-06-27 15:26:00', '2025-06-27 16:05:00', 7.65, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(114, 5, '2025-06-27', 3, '2025-06-27 07:49:00', '2025-06-27 09:15:00', 8.43, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(115, 6, '2025-06-27', 3, '2025-06-27 18:25:00', '2025-06-27 20:23:00', 8.97, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(116, 1, '2025-06-26', 4, '2025-06-26 16:10:00', '2025-06-26 17:59:00', 8.82, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(117, 2, '2025-06-26', 4, '2025-06-26 09:43:00', '2025-06-26 10:39:00', 7.93, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(118, 3, '2025-06-26', 4, '2025-06-26 18:57:00', '2025-06-26 20:18:00', 8.35, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(119, 5, '2025-06-26', 3, '2025-06-26 08:01:00', '2025-06-26 09:05:00', 8.07, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(120, 6, '2025-06-26', 3, '2025-06-26 11:59:00', '2025-06-26 13:18:00', 8.32, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(121, 1, '2025-06-25', 4, '2025-06-25 13:58:00', '2025-06-25 15:56:00', 8.97, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(122, 2, '2025-06-25', 3, '2025-06-25 15:46:00', '2025-06-25 17:04:00', 8.30, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(123, 3, '2025-06-25', 3, '2025-06-25 13:15:00', '2025-06-25 15:12:00', 8.95, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(124, 5, '2025-06-25', 3, '2025-06-25 15:25:00', '2025-06-25 16:57:00', 8.53, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(125, 6, '2025-06-25', 4, '2025-06-25 09:05:00', '2025-06-25 10:41:00', 8.60, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(126, 1, '2025-06-24', 4, '2025-06-24 09:27:00', '2025-06-24 11:05:00', 8.63, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(127, 2, '2025-06-24', 4, '2025-06-24 17:30:00', '2025-06-24 19:28:00', 8.97, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(128, 3, '2025-06-24', 4, '2025-06-24 16:56:00', '2025-06-24 17:30:00', 7.57, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(129, 5, '2025-06-24', 3, '2025-06-24 09:09:00', '2025-06-24 10:27:00', 8.30, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(130, 6, '2025-06-24', 3, '2025-06-24 17:39:00', '2025-06-24 18:18:00', 7.65, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(131, 1, '2025-06-23', 3, '2025-06-23 12:04:00', '2025-06-23 13:12:00', 8.13, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(132, 2, '2025-06-23', 4, '2025-06-23 07:43:00', '2025-06-23 09:19:00', 8.60, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(133, 3, '2025-06-23', 4, '2025-06-23 19:09:00', '2025-06-23 19:41:00', 7.53, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(134, 5, '2025-06-23', 3, '2025-06-23 11:33:00', '2025-06-23 13:20:00', 8.78, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(135, 6, '2025-06-23', 4, '2025-06-23 14:46:00', '2025-06-23 16:45:00', 8.98, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(136, 1, '2025-06-22', 3, '2025-06-22 13:36:00', '2025-06-22 14:54:00', 8.30, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(137, 2, '2025-06-22', 3, '2025-06-22 12:59:00', '2025-06-22 14:24:00', 8.42, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(138, 3, '2025-06-22', 4, '2025-06-22 13:02:00', '2025-06-22 14:41:00', 8.65, '6:00', 'Memenuhi', 'Sakit', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(139, 5, '2025-06-22', 4, '2025-06-22 15:08:00', '2025-06-22 16:03:00', 7.92, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(140, 6, '2025-06-22', 3, '2025-06-22 15:04:00', '2025-06-22 16:24:00', 8.33, '9:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(141, 1, '2025-06-21', 4, '2025-06-21 17:28:00', '2025-06-21 19:20:00', 8.87, '7:30', 'Memenuhi', 'Sakit', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(142, 2, '2025-06-21', 4, '2025-06-21 16:05:00', '2025-06-21 18:04:00', 8.98, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(143, 3, '2025-06-21', 4, '2025-06-21 16:36:00', '2025-06-21 18:04:00', 8.47, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(144, 5, '2025-06-21', 4, '2025-06-21 07:59:00', '2025-06-21 09:35:00', 8.60, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(145, 6, '2025-06-21', 4, '2025-06-21 09:36:00', '2025-06-21 11:00:00', 8.40, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(146, 1, '2025-06-20', 4, '2025-06-20 13:54:00', '2025-06-20 15:08:00', 8.23, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(147, 2, '2025-06-20', 3, '2025-06-20 12:13:00', '2025-06-20 13:41:00', 8.47, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(148, 3, '2025-06-20', 3, '2025-06-20 10:19:00', '2025-06-20 11:58:00', 8.65, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(149, 5, '2025-06-20', 3, '2025-06-20 14:53:00', '2025-06-20 16:05:00', 8.20, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(150, 6, '2025-06-20', 3, '2025-06-20 16:29:00', '2025-06-20 17:43:00', 8.23, '9:00', 'Memenuhi', 'Sakit', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(151, 1, '2025-06-19', 3, '2025-06-19 14:46:00', '2025-06-19 16:14:00', 8.47, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(152, 2, '2025-06-19', 3, '2025-06-19 08:03:00', '2025-06-19 08:35:00', 7.53, '9:00', 'Memenuhi', 'Sakit', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(153, 3, '2025-06-19', 4, '2025-06-19 13:01:00', '2025-06-19 14:46:00', 8.75, '7:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(154, 5, '2025-06-19', 3, '2025-06-19 09:40:00', '2025-06-19 10:10:00', 7.50, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(155, 6, '2025-06-19', 4, '2025-06-19 08:05:00', '2025-06-19 08:49:00', 7.73, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(156, 1, '2025-06-18', 4, '2025-06-18 10:20:00', '2025-06-18 12:15:00', 8.92, '8:00', 'Memenuhi', 'Sakit', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(157, 2, '2025-06-18', 3, '2025-06-18 10:48:00', '2025-06-18 12:44:00', 8.93, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(158, 3, '2025-06-18', 4, '2025-06-18 13:06:00', '2025-06-18 13:57:00', 7.85, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(159, 5, '2025-06-18', 4, '2025-06-18 13:42:00', '2025-06-18 15:36:00', 8.90, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(160, 6, '2025-06-18', 3, '2025-06-18 18:19:00', '2025-06-18 19:49:00', 8.50, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(161, 1, '2025-06-17', 3, '2025-06-17 14:41:00', '2025-06-17 15:33:00', 7.87, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(162, 2, '2025-06-17', 4, '2025-06-17 15:44:00', '2025-06-17 16:47:00', 8.05, '8:30', 'Memenuhi', 'Sakit', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(163, 3, '2025-06-17', 4, '2025-06-17 11:17:00', '2025-06-17 12:43:00', 8.43, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(164, 5, '2025-06-17', 4, '2025-06-17 14:04:00', '2025-06-17 15:21:00', 8.28, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(165, 6, '2025-06-17', 4, '2025-06-17 14:10:00', '2025-06-17 14:51:00', 7.68, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(166, 1, '2025-06-16', 4, '2025-06-16 14:44:00', '2025-06-16 15:55:00', 8.18, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(167, 2, '2025-06-16', 4, '2025-06-16 12:36:00', '2025-06-16 14:35:00', 8.98, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(168, 3, '2025-06-16', 3, '2025-06-16 19:43:00', '2025-06-16 20:18:00', 7.58, '8:30', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(169, 5, '2025-06-16', 4, '2025-06-16 17:02:00', '2025-06-16 18:49:00', 8.78, '8:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(170, 6, '2025-06-16', 4, '2025-06-16 10:42:00', '2025-06-16 11:36:00', 7.90, '6:00', 'Memenuhi', 'Hadir', '2025-07-15 05:33:30', '2025-07-15 05:33:30'),
(171, 67, '2025-07-11', 5, '2025-07-11 17:30:00', NULL, NULL, NULL, NULL, 'Terlambat', '2025-09-06 15:49:58', '2025-09-06 15:49:58'),
(172, 20, '2025-07-11', 6, '2025-07-11 17:30:00', NULL, NULL, NULL, NULL, 'Terlambat', '2025-09-08 01:38:28', '2025-09-08 01:38:28'),
(173, 70, '2025-07-11', 7, '2025-07-11 17:30:00', NULL, NULL, NULL, NULL, 'Terlambat', '2025-10-03 02:28:47', '2025-10-03 02:28:47');

--
-- Triggers `kehadiran`
--
DELIMITER $$
CREATE TRIGGER `kehadiran_log_activity_delete` AFTER DELETE ON `kehadiran` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Data kehadiran dihapus untuk pegawai ID: ", OLD.id_pegawai),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `kehadiran_log_activity_insert` AFTER INSERT ON `kehadiran` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Kehadiran baru: ", NEW.status_kehadiran, " untuk pegawai ID: ", NEW.id_pegawai),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `kehadiran_log_activity_update` AFTER UPDATE ON `kehadiran` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Kehadiran diupdate: ", NEW.status_kehadiran, " untuk pegawai ID: ", NEW.id_pegawai),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `kuisioner`
--

CREATE TABLE `kuisioner` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `kategori` varchar(255) NOT NULL COMMENT 'Contoh: Kedisiplinan',
  `pertanyaan` text NOT NULL COMMENT 'Isi pertanyaan',
  `aktif` tinyint(1) NOT NULL DEFAULT 1 COMMENT 'Status aktif pertanyaan (true/false)',
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `kuisioner`
--

INSERT INTO `kuisioner` (`id`, `kategori`, `pertanyaan`, `aktif`, `created_at`, `updated_at`) VALUES
(1, 'Kinerja Kerja', 'Seberapa baik karyawan menyelesaikan tugas tepat waktu?', 1, '2025-06-19 11:27:07', '2025-06-27 11:27:07'),
(2, 'Kinerja Kerja', 'Bagaimana kualitas hasil kerja yang dihasilkan?', 1, '2025-06-09 11:27:07', '2025-06-16 11:27:07'),
(3, 'Kinerja Kerja', 'Seberapa efisien karyawan dalam menggunakan waktu kerja?', 0, '2025-06-15 11:27:07', '2025-06-19 11:27:07'),
(4, 'Kinerja Kerja', 'Bagaimana kemampuan karyawan dalam mencapai target yang ditetapkan?', 1, '2025-06-04 11:27:07', '2025-06-17 11:27:07'),
(5, 'Kinerja Kerja', 'Seberapa konsisten karyawan dalam menjaga standar kualitas kerja?', 1, '2025-06-27 11:27:07', '2025-06-15 11:27:07'),
(6, 'Kinerja Kerja', 'Bagaimana kemampuan karyawan dalam mengatasi beban kerja yang tinggi?', 1, '2025-06-20 11:27:07', '2025-06-19 11:27:07'),
(7, 'Kinerja Kerja', 'Seberapa baik karyawan dalam mengorganisir dan memprioritaskan tugas?', 1, '2025-06-23 11:27:07', '2025-06-20 11:27:07'),
(8, 'Kinerja Kerja', 'Bagaimana tingkat akurasi dalam menyelesaikan pekerjaan?', 1, '2025-06-10 11:27:07', '2025-06-13 11:27:07'),
(9, 'Komunikasi', 'Seberapa efektif karyawan dalam berkomunikasi dengan rekan kerja?', 0, '2025-06-09 11:27:07', '2025-06-27 11:27:07'),
(10, 'Komunikasi', 'Bagaimana kemampuan karyawan dalam menyampaikan ide dan pendapat?', 1, '2025-06-02 11:27:07', '2025-06-20 11:27:07'),
(11, 'Komunikasi', 'Seberapa baik karyawan dalam mendengarkan dan memahami instruksi?', 1, '2025-06-16 11:27:07', '2025-06-22 11:27:07'),
(12, 'Komunikasi', 'Bagaimana kemampuan karyawan dalam presentasi dan public speaking?', 1, '2025-06-02 11:27:07', '2025-06-16 11:27:07'),
(13, 'Komunikasi', 'Seberapa jelas karyawan dalam memberikan laporan dan dokumentasi?', 1, '2025-06-20 11:27:07', '2025-06-14 11:27:07'),
(14, 'Komunikasi', 'Bagaimana kemampuan karyawan dalam komunikasi tertulis (email, memo)?', 1, '2025-06-05 11:27:07', '2025-06-23 11:27:07'),
(15, 'Komunikasi', 'Seberapa responsif karyawan dalam menanggapi komunikasi dari atasan?', 1, '2025-05-28 11:27:07', '2025-06-18 11:27:07'),
(16, 'Komunikasi', 'Bagaimana kemampuan karyawan dalam menyelesaikan konflik komunikasi?', 1, '2025-06-05 11:27:07', '2025-06-16 11:27:07'),
(17, 'Kerja Sama Tim', 'Seberapa baik karyawan dalam berkolaborasi dengan tim?', 1, '2025-06-01 11:27:07', '2025-06-18 11:27:07'),
(19, 'Kerja Sama Tim', 'Seberapa suportif karyawan terhadap rekan kerja lainnya?', 1, '2025-06-09 11:27:07', '2025-06-26 11:27:07'),
(20, 'Kerja Sama Tim', 'Bagaimana kemampuan karyawan dalam berbagi pengetahuan dengan tim?', 1, '2025-06-13 11:27:07', '2025-06-14 11:27:07'),
(21, 'Kerja Sama Tim', 'Seberapa fleksibel karyawan dalam menyesuaikan diri dengan dinamika tim?', 1, '2025-06-17 11:27:07', '2025-06-13 11:27:07'),
(22, 'Kerja Sama Tim', 'Bagaimana kemampuan karyawan dalam menyelesaikan tugas kelompok?', 1, '2025-06-04 11:27:07', '2025-06-15 11:27:07'),
(23, 'Kerja Sama Tim', 'Seberapa aktif karyawan dalam memberikan feedback konstruktif?', 1, '2025-06-25 11:27:07', '2025-06-23 11:27:07'),
(24, 'Kerja Sama Tim', 'Bagaimana sikap karyawan dalam menerima masukan dari rekan kerja?', 0, '2025-06-04 11:27:07', '2025-06-21 11:27:07'),
(25, 'Inisiatif Dan Kreativitas', 'Seberapa sering karyawan mengajukan ide-ide inovatif?', 1, '2025-06-25 11:27:07', '2025-06-16 11:27:07'),
(26, 'Inisiatif Dan Kreativitas', 'Bagaimana kemampuan karyawan dalam mencari solusi kreatif?', 1, '2025-06-14 11:27:07', '2025-06-26 11:27:07'),
(27, 'Inisiatif Dan Kreativitas', 'Seberapa proaktif karyawan dalam mengidentifikasi masalah?', 1, '2025-05-28 11:27:07', '2025-06-15 11:27:07'),
(28, 'Inisiatif Dan Kreativitas', 'Bagaimana kemampuan karyawan dalam mengembangkan metode kerja baru?', 1, '2025-05-28 11:27:07', '2025-06-28 04:05:41'),
(29, 'Inisiatif Dan Kreativitas', 'Seberapa berani karyawan dalam mengambil risiko yang terukur?', 1, '2025-06-06 11:27:07', '2025-06-19 11:27:07'),
(30, 'Inisiatif Dan Kreativitas', 'Bagaimana kontribusi karyawan dalam proses improvement?', 0, '2025-06-15 11:27:07', '2025-06-13 11:27:07'),
(32, 'Inisiatif Dan Kreativitas', 'Bagaimana kemampuan karyawan dalam berpikir out of the box?', 1, '2025-06-26 11:27:07', '2025-06-24 11:27:07'),
(33, 'Kepemimpinan', 'Seberapa baik karyawan dalam memotivasi orang lain?', 1, '2025-06-21 11:27:07', '2025-06-20 11:27:07'),
(34, 'Kepemimpinan', 'Bagaimana kemampuan karyawan dalam mengambil keputusan sulit?', 1, '2025-06-12 11:27:07', '2025-06-18 11:27:07'),
(35, 'Kepemimpinan', 'Seberapa efektif karyawan dalam mendelegasikan tugas?', 1, '2025-06-15 11:27:07', '2025-06-20 11:27:07'),
(36, 'Kepemimpinan', 'Bagaimana kemampuan karyawan dalam mengelola konflik?', 1, '2025-05-31 11:27:07', '2025-06-13 11:27:07'),
(37, 'Kepemimpinan', 'Seberapa baik karyawan dalam memberikan arahan yang jelas?', 1, '2025-06-26 11:27:07', '2025-06-15 11:27:07'),
(38, 'Kepemimpinan', 'Bagaimana kemampuan karyawan dalam mengembangkan bawahan?', 1, '2025-05-29 11:27:07', '2025-06-15 11:27:07'),
(39, 'Kepemimpinan', 'Seberapa konsisten karyawan dalam memberikan feedback?', 1, '2025-06-17 11:27:07', '2025-06-12 11:27:07'),
(40, 'Kepemimpinan', 'Bagaimana kemampuan karyawan dalam membangun visi tim?', 1, '2025-06-20 11:27:07', '2025-06-27 11:27:07'),
(41, 'Profesionalisme', 'Seberapa baik karyawan dalam menjaga etika kerja?', 1, '2025-06-02 11:27:07', '2025-06-26 11:27:07'),
(42, 'Profesionalisme', 'Bagaimana tingkat kedisiplinan karyawan dalam mengikuti aturan?', 1, '2025-06-24 11:27:07', '2025-06-23 11:27:07'),
(43, 'Profesionalisme', 'Seberapa konsisten karyawan dalam menjaga penampilan profesional?', 1, '2025-06-06 11:27:07', '2025-06-17 11:27:07'),
(44, 'Profesionalisme', 'Bagaimana kemampuan karyawan dalam menjaga kerahasiaan informasi?', 1, '2025-06-06 11:27:07', '2025-06-17 11:27:07'),
(45, 'Profesionalisme', 'Seberapa baik karyawan dalam mengelola emosi di tempat kerja?', 1, '2025-06-03 11:27:07', '2025-06-17 11:27:07'),
(46, 'Profesionalisme', 'Bagaimana sikap karyawan terhadap kritik dan feedback?', 0, '2025-06-13 11:27:07', '2025-06-22 11:27:07'),
(47, 'Profesionalisme', 'Seberapa bertanggung jawab karyawan terhadap pekerjaannya?', 1, '2025-06-19 11:27:07', '2025-06-17 11:27:07'),
(48, 'Profesionalisme', 'Bagaimana komitmen karyawan terhadap nilai-nilai perusahaan?', 1, '2025-06-21 11:27:07', '2025-06-26 11:27:07'),
(49, 'Pengembangan Diri', 'Seberapa aktif karyawan dalam mengikuti pelatihan dan seminar?', 1, '2025-06-04 11:27:07', '2025-06-16 11:27:07'),
(50, 'Pengembangan Diri', 'Bagaimana kemampuan karyawan dalam mempelajari hal-hal baru?', 1, '2025-06-16 11:27:07', '2025-06-27 11:27:07'),
(51, 'Pengembangan Diri', 'Seberapa terbuka karyawan terhadap perubahan dan inovasi?', 0, '2025-06-18 11:27:07', '2025-06-20 11:27:07'),
(52, 'Pengembangan Diri', 'Bagaimana upaya karyawan dalam meningkatkan skill dan kompetensi?', 1, '2025-06-03 11:27:07', '2025-06-14 11:27:07'),
(53, 'Pengembangan Diri', 'Seberapa baik karyawan dalam mengidentifikasi area pengembangan diri?', 1, '2025-06-04 11:27:07', '2025-06-26 11:27:07'),
(54, 'Pengembangan Diri', 'Bagaimana kemampuan karyawan dalam beradaptasi dengan teknologi baru?', 0, '2025-06-07 11:27:07', '2025-06-24 11:27:07'),
(55, 'Pengembangan Diri', 'Seberapa konsisten karyawan dalam melakukan self-evaluation?', 0, '2025-05-30 11:27:07', '2025-06-27 11:27:07'),
(56, 'Pengembangan Diri', 'Bagaimana motivasi karyawan untuk berkembang secara profesional?', 0, '2025-06-03 11:27:07', '2025-06-12 11:27:07'),
(57, 'Pelayanan Pelanggan', 'Seberapa responsif karyawan dalam melayani pelanggan?', 1, '2025-06-18 11:27:07', '2025-06-21 11:27:07'),
(58, 'Pelayanan Pelanggan', 'Bagaimana kemampuan karyawan dalam menyelesaikan keluhan pelanggan?', 1, '2025-05-28 11:27:07', '2025-06-12 11:27:07'),
(59, 'Pelayanan Pelanggan', 'Seberapa ramah dan sopan karyawan dalam berinteraksi dengan pelanggan?', 1, '2025-06-15 11:27:07', '2025-06-20 11:27:07'),
(60, 'Pelayanan Pelanggan', 'Bagaimana kemampuan karyawan dalam memahami kebutuhan pelanggan?', 1, '2025-06-05 11:27:07', '2025-06-16 11:27:07'),
(61, 'Pelayanan Pelanggan', 'Seberapa proaktif karyawan dalam memberikan solusi kepada pelanggan?', 1, '2025-06-11 11:27:07', '2025-06-12 11:27:07'),
(63, 'Pelayanan Pelanggan', 'Seberapa baik karyawan dalam menjaga hubungan jangka panjang dengan pelanggan?', 1, '2025-05-31 11:27:07', '2025-06-15 11:27:07'),
(64, 'Pelayanan Pelanggan', 'Bagaimana kemampuan karyawan dalam upselling dan cross-selling?', 1, '2025-06-03 11:27:07', '2025-06-18 11:27:07'),
(65, 'Manajemen Waktu', 'Seberapa efektif karyawan dalam mengelola waktu dan prioritas?', 1, '2025-06-23 11:27:07', '2025-06-06 11:27:07'),
(66, 'Manajemen Waktu', 'Bagaimana kemampuan karyawan dalam menghindari prokrastinasi?', 1, '2025-05-10 11:27:07', '2025-06-22 11:27:07'),
(68, 'Adaptabilitas', 'Bagaimana fleksibilitas karyawan dalam menghadapi situasi darurat?', 1, '2025-05-17 11:27:07', '2025-06-25 11:27:07'),
(69, 'Teknologi', 'Seberapa mahir karyawan dalam menggunakan software dan aplikasi kerja?', 0, '2025-06-02 11:27:07', '2025-06-28 04:06:02'),
(70, 'Teknologi', 'Bagaimana kemampuan karyawan dalam troubleshooting masalah teknis?', 1, '2025-06-03 11:27:07', '2025-06-28 04:05:53');

--
-- Triggers `kuisioner`
--
DELIMITER $$
CREATE TRIGGER `kuisioner_log_activity_delete` AFTER DELETE ON `kuisioner` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Kuisioner dihapus dengan kategori: ", OLD.kategori),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `kuisioner_log_activity_insert` AFTER INSERT ON `kuisioner` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Kuisioner baru ditambahkan dengan kategori: ", NEW.kategori),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `kuisioner_log_activity_update` AFTER UPDATE ON `kuisioner` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Kuisioner diupdate dengan kategori: ", NEW.kategori),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `log_activity`
--

CREATE TABLE `log_activity` (
  `id_log_activity` bigint(20) UNSIGNED NOT NULL,
  `id_user` int(11) NOT NULL,
  `keterangan` varchar(255) NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `log_activity`
--

INSERT INTO `log_activity` (`id_log_activity`, `id_user`, `keterangan`, `created_at`, `updated_at`) VALUES
(1, 6, 'Logout dari sistem', '2025-07-08 08:54:26', '2025-07-08 08:54:26'),
(2, 6, 'Login ke sistem', '2025-07-08 08:54:38', '2025-07-08 08:54:38'),
(6, 6, 'Login ke sistem', '2025-07-08 09:27:17', '2025-07-08 09:27:17'),
(7, 6, 'Pegawai dihapus: Nabbel', '2025-07-08 09:27:40', '2025-07-08 09:27:40'),
(8, 6, 'Login ke sistem', '2025-07-08 09:58:12', '2025-07-08 09:58:12'),
(9, 6, 'Login ke sistem', '2025-07-08 10:00:09', '2025-07-08 10:00:09'),
(10, 6, 'Logout dari sistem', '2025-07-08 10:01:20', '2025-07-08 10:01:20'),
(15, 6, 'Login ke sistem', '2025-07-09 03:15:39', '2025-07-09 03:15:39'),
(16, 6, 'Logout dari sistem', '2025-07-09 03:15:55', '2025-07-09 03:15:55'),
(19, 5, 'Login ke sistem', '2025-07-09 03:16:24', '2025-07-09 03:16:24'),
(20, 5, 'Logout dari sistem', '2025-07-09 03:16:48', '2025-07-09 03:16:48'),
(24, 22, 'Login ke sistem', '2025-07-09 13:43:47', '2025-07-09 13:43:47'),
(25, 22, 'Login ke sistem', '2025-07-10 02:12:01', '2025-07-10 02:12:01'),
(26, 22, 'Logout dari sistem', '2025-07-10 02:18:30', '2025-07-10 02:18:30'),
(27, 6, 'Login ke sistem', '2025-07-10 02:18:35', '2025-07-10 02:18:35'),
(28, 6, 'Logout dari sistem', '2025-07-10 02:19:55', '2025-07-10 02:19:55'),
(29, 22, 'Login ke sistem', '2025-07-10 02:20:03', '2025-07-10 02:20:03'),
(30, 22, 'Logout dari sistem', '2025-07-10 02:20:27', '2025-07-10 02:20:27'),
(31, 22, 'Login ke sistem', '2025-07-10 02:20:35', '2025-07-10 02:20:35'),
(32, 22, 'Logout dari sistem', '2025-07-10 02:20:43', '2025-07-10 02:20:43'),
(33, 22, 'Login ke sistem', '2025-07-10 02:20:56', '2025-07-10 02:20:56'),
(34, 22, 'Logout dari sistem', '2025-07-10 02:21:27', '2025-07-10 02:21:27'),
(35, 22, 'Login ke sistem', '2025-07-10 02:21:36', '2025-07-10 02:21:36'),
(36, 22, 'Logout dari sistem', '2025-07-10 02:31:36', '2025-07-10 02:31:36'),
(37, 22, 'Login ke sistem', '2025-07-10 02:31:43', '2025-07-10 02:31:43'),
(38, 22, 'Logout dari sistem', '2025-07-10 02:35:20', '2025-07-10 02:35:20'),
(41, 22, 'Login ke sistem', '2025-07-10 02:36:51', '2025-07-10 02:36:51'),
(42, 22, 'Logout dari sistem', '2025-07-10 02:37:14', '2025-07-10 02:37:14'),
(43, 5, 'Login ke sistem', '2025-07-10 02:37:19', '2025-07-10 02:37:19'),
(44, 5, 'Logout dari sistem', '2025-07-10 02:38:28', '2025-07-10 02:38:28'),
(45, 22, 'Login ke sistem', '2025-07-10 02:38:42', '2025-07-10 02:38:42'),
(46, 22, 'Logout dari sistem', '2025-07-10 02:46:55', '2025-07-10 02:46:55'),
(51, 22, 'Login ke sistem', '2025-07-10 10:37:58', '2025-07-10 10:37:58'),
(52, 22, 'Login ke sistem', '2025-07-10 10:42:06', '2025-07-10 10:42:06'),
(53, 22, 'Logout dari sistem', '2025-07-10 10:42:21', '2025-07-10 10:42:21'),
(55, 6, 'Login ke sistem', '2025-07-10 14:06:12', '2025-07-10 14:06:12'),
(56, 6, 'Logout dari sistem', '2025-07-10 14:12:38', '2025-07-10 14:12:38'),
(57, 6, 'Login ke sistem', '2025-07-10 14:12:46', '2025-07-10 14:12:46'),
(58, 6, 'Pegawai baru ditambahkan: Feri Irandi', '2025-07-10 14:14:23', '2025-07-10 14:14:23'),
(59, 6, 'Logout dari sistem', '2025-07-10 14:16:28', '2025-07-10 14:16:28'),
(62, 5, 'Login ke sistem', '2025-07-10 14:17:59', '2025-07-10 14:17:59'),
(63, 5, 'Logout dari sistem', '2025-07-10 14:18:39', '2025-07-10 14:18:39'),
(64, 22, 'Login ke sistem', '2025-07-10 14:18:47', '2025-07-10 14:18:47'),
(65, 22, 'Logout dari sistem', '2025-07-10 14:19:35', '2025-07-10 14:19:35'),
(66, 6, 'Login ke sistem', '2025-07-10 14:33:13', '2025-07-10 14:33:13'),
(67, 6, 'Login ke sistem', '2025-07-10 14:46:50', '2025-07-10 14:46:50'),
(68, 6, 'Login ke sistem', '2025-07-10 14:47:39', '2025-07-10 14:47:39'),
(69, 6, 'Logout dari sistem', '2025-07-10 15:14:20', '2025-07-10 15:14:20'),
(70, 5, 'Login ke sistem', '2025-07-10 15:14:35', '2025-07-10 15:14:35'),
(71, 5, 'Logout dari sistem', '2025-07-10 15:14:55', '2025-07-10 15:14:55'),
(72, 22, 'Login ke sistem', '2025-07-10 15:15:04', '2025-07-10 15:15:04'),
(73, 22, 'Logout dari sistem', '2025-07-10 15:15:51', '2025-07-10 15:15:51'),
(74, 6, 'Login ke sistem', '2025-07-10 17:02:00', '2025-07-10 17:02:00'),
(75, 6, 'Logout dari sistem', '2025-07-10 17:18:55', '2025-07-10 17:18:55'),
(79, 6, 'Login ke sistem', '2025-07-11 03:04:58', '2025-07-11 03:04:58'),
(80, 6, 'Lokasi kantor diupdate: Kantor 1', '2025-07-11 03:07:41', '2025-07-11 03:07:41'),
(81, 6, 'Logout dari sistem', '2025-07-11 03:14:18', '2025-07-11 03:14:18'),
(82, 5, 'Login ke sistem', '2025-07-11 03:14:27', '2025-07-11 03:14:27'),
(83, 5, 'Logout dari sistem', '2025-07-11 03:17:41', '2025-07-11 03:17:41'),
(85, 6, 'Login ke sistem', '2025-07-11 06:19:30', '2025-07-11 06:19:30'),
(86, 6, 'Login ke sistem', '2025-07-11 06:19:48', '2025-07-11 06:19:48'),
(87, 6, 'Lokasi kantor diupdate: Kantor 2', '2025-07-11 06:20:11', '2025-07-11 06:20:11'),
(88, 6, 'Lokasi kantor diupdate: Kantor 2', '2025-07-11 06:22:13', '2025-07-11 06:22:13'),
(89, 6, 'Kehadiran diupdate: Hadir untuk pegawai ID: 2', '2025-07-11 06:22:20', '2025-07-11 06:22:20'),
(90, 6, 'Pegawai baru ditambahkan: Andi Sugar', '2025-07-11 06:29:21', '2025-07-11 06:29:21'),
(91, 6, 'Pegawai dihapus: Andi Sugar', '2025-07-11 06:34:16', '2025-07-11 06:34:16'),
(92, 6, 'Logout dari sistem', '2025-07-11 06:34:28', '2025-07-11 06:34:28'),
(103, 6, 'Login ke sistem', '2025-07-15 03:50:29', '2025-07-15 03:50:29'),
(104, 6, 'Pegawai dihapus: Danu Ywqe', '2025-07-15 03:52:01', '2025-07-15 03:52:01'),
(105, 6, 'Pegawai baru ditambahkan: Geronit', '2025-07-15 03:58:16', '2025-07-15 03:58:16'),
(106, 6, 'Pegawai dihapus: Geronit', '2025-07-15 03:58:52', '2025-07-15 03:58:52'),
(107, 6, 'Pegawai baru ditambahkan: Geroitr', '2025-07-15 04:05:10', '2025-07-15 04:05:10'),
(108, 6, 'Login ke sistem', '2025-07-15 04:09:07', '2025-07-15 04:09:07'),
(115, 6, 'Data kehadiran dihapus untuk pegawai ID: 7', '2025-07-15 04:28:17', '2025-07-15 04:28:17'),
(116, 6, 'Pengajuan cuti dihapus untuk pegawai ID: 7', '2025-07-15 04:28:17', '2025-07-15 04:28:17'),
(117, 6, 'User dihapus: vina', '2025-07-15 04:28:17', '2025-07-15 04:28:17'),
(118, 6, 'Pegawai dihapus: vina', '2025-07-15 04:28:17', '2025-07-15 04:28:17'),
(119, 6, 'Pegawai dihapus: Geroitr', '2025-07-15 04:28:26', '2025-07-15 04:28:26'),
(120, 6, 'Status cuti diupdate: Menunggu untuk pegawai ID: 2', '2025-07-15 05:45:42', '2025-07-15 05:45:42'),
(121, 6, 'Status cuti diupdate: Menunggu untuk pegawai ID: 2', '2025-07-15 05:47:23', '2025-07-15 05:47:23'),
(122, 6, 'Logout dari sistem', '2025-07-15 05:55:21', '2025-07-15 05:55:21'),
(123, 5, 'Login ke sistem', '2025-07-15 05:55:41', '2025-07-15 05:55:41'),
(124, 5, 'Logout dari sistem', '2025-07-15 05:56:57', '2025-07-15 05:56:57'),
(125, 22, 'Login ke sistem', '2025-07-15 05:57:23', '2025-07-15 05:57:23'),
(126, 22, 'Login ke sistem', '2025-07-15 06:01:58', '2025-07-15 06:01:58'),
(127, 22, 'Logout dari sistem', '2025-07-15 06:07:42', '2025-07-15 06:07:42'),
(128, 5, 'Login ke sistem', '2025-07-15 06:07:47', '2025-07-15 06:07:47'),
(129, 6, 'Login ke sistem', '2025-07-15 08:57:44', '2025-07-15 08:57:44'),
(130, 6, 'Login ke sistem', '2025-07-15 09:35:40', '2025-07-15 09:35:40'),
(131, 6, 'Logout dari sistem', '2025-07-15 10:13:24', '2025-07-15 10:13:24'),
(132, 6, 'Login ke sistem', '2025-07-15 10:15:14', '2025-07-15 10:15:14'),
(133, 6, 'Logout dari sistem', '2025-07-15 10:38:23', '2025-07-15 10:38:23'),
(134, 5, 'Login ke sistem', '2025-07-15 10:38:28', '2025-07-15 10:38:28'),
(135, 5, 'Logout dari sistem', '2025-07-15 10:40:06', '2025-07-15 10:40:06'),
(136, 22, 'Login ke sistem', '2025-07-15 10:40:17', '2025-07-15 10:40:17'),
(137, 22, 'Logout dari sistem', '2025-07-15 10:41:30', '2025-07-15 10:41:30'),
(139, 6, 'Login ke sistem', '2025-07-15 11:45:35', '2025-07-15 11:45:35'),
(140, 6, 'Logout dari sistem', '2025-07-15 12:02:30', '2025-07-15 12:02:30'),
(146, 5, 'Login ke sistem', '2025-07-15 12:46:38', '2025-07-15 12:46:38'),
(147, 5, 'Logout dari sistem', '2025-07-15 12:48:04', '2025-07-15 12:48:04'),
(148, 22, 'Login ke sistem', '2025-07-15 12:48:17', '2025-07-15 12:48:17'),
(149, 22, 'Logout dari sistem', '2025-07-15 12:49:27', '2025-07-15 12:49:27'),
(154, 5, 'Login ke sistem', '2025-07-15 13:19:56', '2025-07-15 13:19:56'),
(155, 5, 'Logout dari sistem', '2025-07-15 13:21:11', '2025-07-15 13:21:11'),
(156, 22, 'Login ke sistem', '2025-07-15 13:21:20', '2025-07-15 13:21:20'),
(157, 22, 'Logout dari sistem', '2025-07-15 13:25:02', '2025-07-15 13:25:02'),
(160, 36, 'Login ke sistem', '2025-09-06 14:34:31', '2025-09-06 14:34:31'),
(161, 36, 'Logout dari sistem', '2025-09-06 15:08:29', '2025-09-06 15:08:29'),
(166, 39, 'Login ke sistem', '2025-09-06 15:12:20', '2025-09-06 15:12:20'),
(167, 39, 'Logout dari sistem', '2025-09-06 15:27:29', '2025-09-06 15:27:29'),
(172, 43, 'Login ke sistem', '2025-09-06 15:30:27', '2025-09-06 15:30:27'),
(173, 43, 'Logout dari sistem', '2025-09-06 15:34:11', '2025-09-06 15:34:11'),
(174, 46, 'Login ke sistem', '2025-09-06 15:34:21', '2025-09-06 15:34:21'),
(175, 46, 'Pegawai baru ditambahkan: hanaakun', '2025-09-06 15:43:17', '2025-09-06 15:43:17'),
(176, 46, 'Logout dari sistem', '2025-09-06 15:44:23', '2025-09-06 15:44:23'),
(177, 47, 'Login ke sistem', '2025-09-06 15:44:32', '2025-09-06 15:44:32'),
(178, 47, 'Lokasi kantor baru ditambahkan: kantor deny', '2025-09-06 15:48:57', '2025-09-06 15:48:57'),
(179, 47, 'Lokasi kantor diupdate: kantor deny', '2025-09-06 15:49:50', '2025-09-06 15:49:50'),
(180, 47, 'Kehadiran baru: Terlambat untuk pegawai ID: 67', '2025-09-06 15:49:58', '2025-09-06 15:49:58'),
(181, 47, 'Logout dari sistem', '2025-09-06 15:57:58', '2025-09-06 15:57:58'),
(182, 47, 'Login ke sistem', '2025-09-06 15:58:22', '2025-09-06 15:58:22'),
(183, 47, 'Login ke sistem', '2025-09-08 01:31:50', '2025-09-08 01:31:50'),
(184, 46, 'Login ke sistem', '2025-09-08 01:32:56', '2025-09-08 01:32:56'),
(185, 46, 'Lokasi kantor baru ditambahkan: poltek', '2025-09-08 01:38:15', '2025-09-08 01:38:15'),
(186, 46, 'Kehadiran baru: Terlambat untuk pegawai ID: 20', '2025-09-08 01:38:28', '2025-09-08 01:38:28'),
(187, 46, 'Pegawai baru ditambahkan: denykepala', '2025-09-08 01:56:48', '2025-09-08 01:56:48'),
(188, 46, 'Logout dari sistem', '2025-09-08 01:58:11', '2025-09-08 01:58:11'),
(189, 48, 'Login ke sistem', '2025-09-08 01:58:22', '2025-09-08 01:58:22'),
(190, 48, 'Logout dari sistem', '2025-09-08 02:01:04', '2025-09-08 02:01:04'),
(191, 46, 'Login ke sistem', '2025-09-08 02:01:15', '2025-09-08 02:01:15'),
(192, 46, 'Login ke sistem', '2025-09-08 02:02:31', '2025-09-08 02:02:31'),
(193, 46, 'Logout dari sistem', '2025-09-08 02:05:56', '2025-09-08 02:05:56'),
(194, 39, 'Login ke sistem', '2025-09-08 02:06:06', '2025-09-08 02:06:06'),
(195, 39, 'Login ke sistem', '2025-09-08 02:06:22', '2025-09-08 02:06:22'),
(196, 39, 'Logout dari sistem', '2025-09-08 02:07:07', '2025-09-08 02:07:07'),
(197, 39, 'Login ke sistem', '2025-09-08 02:07:27', '2025-09-08 02:07:27'),
(198, 39, 'Logout dari sistem', '2025-09-08 02:07:54', '2025-09-08 02:07:54'),
(199, 29, 'Login ke sistem', '2025-09-08 02:08:37', '2025-09-08 02:08:37'),
(200, 39, 'Login ke sistem', '2025-09-08 05:49:45', '2025-09-08 05:49:45'),
(201, 39, 'Logout dari sistem', '2025-09-08 05:50:26', '2025-09-08 05:50:26'),
(202, 46, 'Login ke sistem', '2025-09-08 06:12:27', '2025-09-08 06:12:27'),
(203, 46, 'Logout dari sistem', '2025-09-08 06:45:58', '2025-09-08 06:45:58'),
(204, 39, 'Login ke sistem', '2025-09-08 06:46:13', '2025-09-08 06:46:13'),
(205, 46, 'Login ke sistem', '2025-09-11 06:35:57', '2025-09-11 06:35:57'),
(206, 46, 'Logout dari sistem', '2025-09-11 07:13:29', '2025-09-11 07:13:29'),
(207, 39, 'Login ke sistem', '2025-09-11 07:13:37', '2025-09-11 07:13:37'),
(208, 46, 'Login ke sistem', '2025-09-12 02:51:48', '2025-09-12 02:51:48'),
(209, 48, 'Login ke sistem', '2025-09-15 01:36:43', '2025-09-15 01:36:43'),
(210, 49, 'Login ke sistem', '2025-09-20 06:03:16', '2025-09-20 06:03:16'),
(211, 49, 'Login ke sistem', '2025-09-23 05:46:03', '2025-09-23 05:46:03'),
(212, 49, 'Logout dari sistem', '2025-09-23 06:17:56', '2025-09-23 06:17:56'),
(213, 49, 'Login ke sistem', '2025-09-23 06:18:27', '2025-09-23 06:18:27'),
(214, 50, 'Login ke sistem', '2025-09-24 02:20:44', '2025-09-24 02:20:44'),
(215, 50, 'Logout dari sistem', '2025-09-24 02:20:54', '2025-09-24 02:20:54'),
(216, 51, 'Login ke sistem', '2025-09-24 02:21:10', '2025-09-24 02:21:10'),
(217, 51, 'Logout dari sistem', '2025-09-24 02:21:22', '2025-09-24 02:21:22'),
(218, 50, 'Login ke sistem', '2025-09-24 02:21:32', '2025-09-24 02:21:32'),
(219, 50, 'Logout dari sistem', '2025-09-24 02:21:42', '2025-09-24 02:21:42'),
(220, 49, 'Login ke sistem', '2025-09-24 02:21:55', '2025-09-24 02:21:55'),
(221, 49, 'Logout dari sistem', '2025-09-24 02:22:07', '2025-09-24 02:22:07'),
(222, 50, 'Login ke sistem', '2025-10-02 15:07:24', '2025-10-02 15:07:24'),
(223, 50, 'Login ke sistem', '2025-10-02 15:07:42', '2025-10-02 15:07:42'),
(224, 51, 'Login ke sistem', '2025-10-02 15:39:43', '2025-10-02 15:39:43'),
(225, 49, 'Login ke sistem', '2025-10-03 02:24:00', '2025-10-03 02:24:00'),
(226, 49, 'Logout dari sistem', '2025-10-03 02:24:17', '2025-10-03 02:24:17'),
(227, 50, 'Login ke sistem', '2025-10-03 02:24:26', '2025-10-03 02:24:26'),
(228, 50, 'Lokasi kantor baru ditambahkan: rafles', '2025-10-03 02:28:37', '2025-10-03 02:28:37'),
(229, 50, 'Kehadiran baru: Terlambat untuk pegawai ID: 70', '2025-10-03 02:28:47', '2025-10-03 02:28:47'),
(230, 50, 'Logout dari sistem', '2025-10-03 02:30:36', '2025-10-03 02:30:36'),
(231, 51, 'Login ke sistem', '2025-10-03 02:30:58', '2025-10-03 02:30:58'),
(232, 50, 'Login ke sistem', '2025-10-05 03:16:16', '2025-10-05 03:16:16'),
(233, 50, 'Logout dari sistem', '2025-10-05 03:48:26', '2025-10-05 03:48:26'),
(234, 52, 'Login ke sistem', '2025-10-05 03:52:07', '2025-10-05 03:52:07'),
(235, 50, 'Login ke sistem', '2025-10-05 03:52:39', '2025-10-05 03:52:39'),
(236, 50, 'Logout dari sistem', '2025-10-05 04:26:01', '2025-10-05 04:26:01'),
(237, 52, 'Login ke sistem', '2025-10-05 06:15:25', '2025-10-05 06:15:25'),
(238, 52, 'Login ke sistem', '2025-10-05 06:15:45', '2025-10-05 06:15:45'),
(239, 52, 'Logout dari sistem', '2025-10-05 06:16:05', '2025-10-05 06:16:05'),
(240, 49, 'Login ke sistem', '2025-10-05 06:16:15', '2025-10-05 06:16:15'),
(241, 49, 'Login ke sistem', '2025-10-05 06:43:12', '2025-10-05 06:43:12'),
(242, 49, 'Login ke sistem', '2025-10-05 09:15:50', '2025-10-05 09:15:50'),
(243, 49, 'Logout dari sistem', '2025-10-05 10:30:33', '2025-10-05 10:30:33'),
(244, 50, 'Login ke sistem', '2025-10-05 10:30:46', '2025-10-05 10:30:46'),
(245, 50, 'Login ke sistem', '2025-10-05 12:00:51', '2025-10-05 12:00:51'),
(246, 50, 'Login ke sistem', '2025-10-07 06:27:24', '2025-10-07 06:27:24'),
(247, 49, 'Login ke sistem', '2025-10-07 06:30:59', '2025-10-07 06:30:59'),
(248, 50, 'Login ke sistem', '2025-10-08 07:52:58', '2025-10-08 07:52:58');

-- --------------------------------------------------------

--
-- Table structure for table `lokasi_kantor`
--

CREATE TABLE `lokasi_kantor` (
  `id` int(10) UNSIGNED NOT NULL,
  `nama_lokasi` varchar(255) NOT NULL,
  `latitude` decimal(10,8) NOT NULL,
  `longitude` decimal(11,8) NOT NULL,
  `status` enum('aktif','nonaktif') NOT NULL,
  `radius_meter` int(11) NOT NULL DEFAULT 100,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `lokasi_kantor`
--

INSERT INTO `lokasi_kantor` (`id`, `nama_lokasi`, `latitude`, `longitude`, `status`, `radius_meter`, `created_at`, `updated_at`) VALUES
(3, 'Kantor 1', 1.12003760, 104.04497850, 'aktif', 100, '2025-06-17 21:05:21', '2025-07-15 12:46:05'),
(4, 'Kantor 2', 1.11083520, 104.04495360, 'aktif', 300, '2025-06-21 21:02:45', '2025-07-11 06:22:13'),
(5, 'kantor deny', 1.15446000, 104.03768000, 'aktif', 100, '2025-09-06 15:48:57', '2025-09-06 15:49:50'),
(6, 'poltek', 1.11890000, 104.04841000, 'aktif', 1000, '2025-09-08 01:38:15', '2025-09-08 01:38:15'),
(7, 'rafles', 1.05063580, 103.97785824, 'aktif', 1000, '2025-10-03 02:28:37', '2025-10-03 02:28:37');

--
-- Triggers `lokasi_kantor`
--
DELIMITER $$
CREATE TRIGGER `lokasi_kantor_log_activity_delete` AFTER DELETE ON `lokasi_kantor` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Lokasi kantor dihapus: ", OLD.nama_lokasi),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `lokasi_kantor_log_activity_insert` AFTER INSERT ON `lokasi_kantor` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Lokasi kantor baru ditambahkan: ", NEW.nama_lokasi),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `lokasi_kantor_log_activity_update` AFTER UPDATE ON `lokasi_kantor` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Lokasi kantor diupdate: ", NEW.nama_lokasi),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `migrations`
--

CREATE TABLE `migrations` (
  `id` int(10) UNSIGNED NOT NULL,
  `migration` varchar(255) NOT NULL,
  `batch` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `migrations`
--

INSERT INTO `migrations` (`id`, `migration`, `batch`) VALUES
(1, '2025_06_10_071221_create_lokasi_kantor_table', 1),
(2, '2025_06_11_062348_add_golongan_to_pegawai_table', 2),
(3, '2025_06_22_121755_add_jam_kerja_to_kehadiran_table', 3),
(4, '2025_06_22_125152_create_periode_penilaian_table', 4),
(5, '2025_06_22_130406_create_kuisioner', 5),
(6, '2025_06_22_130512_create_periode_kuisioner', 6),
(7, '2025_06_22_130916_create_jawaban_kuisioner', 7),
(8, '2025_06_22_125832_create_penilaian_table', 8),
(9, '2025_06_30_145048_update_penilaian_table_to_pegawai_id', 9),
(10, '2025_07_01_133938_jenis_cuti', 10),
(12, '2025_07_01_133644_cuti', 11),
(16, '2025_07_08_154014_create_log_activity_table', 12),
(18, '2025_07_08_154947_create_all_trigger', 13),
(19, '2025_07_07_193706_create_sessions_table', 14);

-- --------------------------------------------------------

--
-- Table structure for table `pegawai`
--

CREATE TABLE `pegawai` (
  `id_pegawai` int(11) NOT NULL,
  `nama` varchar(255) NOT NULL,
  `tempat_lahir` varchar(255) NOT NULL,
  `tanggal_lahir` date NOT NULL,
  `jenis_kelamin` enum('L','P') NOT NULL,
  `alamat` text NOT NULL,
  `status` enum('Aktif','Nonaktif','Cuti') NOT NULL DEFAULT 'Aktif',
  `no_hp` varchar(20) NOT NULL,
  `email` varchar(255) NOT NULL,
  `id_jabatan` int(11) DEFAULT NULL,
  `id_departemen` int(11) DEFAULT NULL,
  `tanggal_masuk` date NOT NULL,
  `foto` varchar(255) NOT NULL,
  `jatahtahunan` int(11) DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `pegawai`
--

INSERT INTO `pegawai` (`id_pegawai`, `nama`, `tempat_lahir`, `tanggal_lahir`, `jenis_kelamin`, `alamat`, `status`, `no_hp`, `email`, `id_jabatan`, `id_departemen`, `tanggal_masuk`, `foto`, `jatahtahunan`) VALUES
(1, 'Danu Pratamaa', 'Batam', '2000-01-01', 'L', 'Jalan Contoh No. 1', 'Aktif', '081234567899', 'danu123@example.com', 1, 1, '2023-01-01', '1750652925_Screenshot 2025-01-05 192720.png', 12),
(2, 'Danu Yudistia', 'Batam', '2000-01-01', 'L', 'Jalan Contoh No. 1', 'Aktif', '081234567890', 'danu@example.com', 1, 3, '2023-01-01', '1748753152_php-programming-language.png', 12),
(3, 'asep', 'Batam', '2005-11-16', 'L', 'Batam,Bengkong Laut\r\nKomplek Nurul jadid', 'Aktif', '0895605268996', 'danulegend@gmail.com', 3, 3, '2025-05-26', 'user1.png', 12),
(5, 'ellsa', 'Batam', '2005-11-16', 'P', 'Bengkong', 'Aktif', '08971231222', 'danuhuet@gmail.com', 1, 1, '2025-06-01', '1751540547_d211887986130e9673fde71384c0a024.jpg', 0),
(6, 'Ahmad Yanii', 'batam', '2025-06-05', 'L', 'awdawdawd', 'Aktif', '089123123', 'awdawijd@mail.com', 5, 1, '2025-06-05', '1752113741_rapi.jpg', 1),
(17, 'Zahra Ghaliyati Pratiwi', 'Yogyakarta', '1984-07-03', 'P', 'Psr. Qrisdoren No. 441, Gunungsitoli 44021, Sumut', 'Aktif', '(+62) 799 6600 7515', 'zahra.ghaliyati.pratiwi@company.com', 1, 1, '2016-10-10', 'avatar-1.jpg', 13),
(18, 'Ibrahim Martana Hakim', 'Denpasar', '1991-09-22', 'L', 'Ki. Elang No. 195, Banjar 38781, Kaltara', 'Aktif', '0332 2697 9870', 'ibrahim.martana.hakim@company.com', 1, 2, '2017-03-05', 'avatar-1.jpg', 17),
(19, 'Betania Kusmawati', 'Bengkulu', '1978-10-29', 'P', 'Gg. Batako No. 238, Bontang 20872, Papua', 'Aktif', '(+62) 279 1024 049', 'betania.kusmawati@company.com', 1, 1, '2023-04-08', 'avatar-1.jpg', 23),
(20, 'Darman Simbolon', 'Jakarta', '2004-04-25', 'P', 'Psr. Adisumarmo No. 814, Bekasi 91093, NTB', 'Aktif', '(+62) 888 6092 309', 'darman.simbolon@company.com', 1, 1, '2020-04-16', '1757312017_IMG-20250824-WA0009.jpg', 18),
(21, 'Alambana Natsir', 'Bengkulu', '1982-07-13', 'L', 'Ki. Wahidin No. 2, Bogor 25854, Bengkulu', 'Aktif', '(+62) 824 2188 8386', 'alambana.natsir@company.com', 1, 2, '2015-07-26', 'avatar-1.jpg', 17),
(22, 'Jasmani Napitupulu M.Ak', 'Bandung', '2001-10-07', 'L', 'Psr. Karel S. Tubun No. 396, Lhokseumawe 72261, Banten', 'Aktif', '(+62) 216 5085 611', 'jasmani.napitupulu.m.ak@company.com', 1, 1, '2017-08-15', 'avatar-1.jpg', 15),
(23, 'Dono Saragih S.Pd', 'Bandung', '1999-05-19', 'L', 'Jln. Mulyadi No. 905, Salatiga 70309, Sulbar', 'Aktif', '(+62) 883 8650 5046', 'dono.saragih.s.pd@company.com', 1, 1, '2019-08-18', 'avatar-1.jpg', 23),
(24, 'Amelia Rahmi Aryani', 'Balikpapan', '1992-08-18', 'L', 'Dk. Eka No. 171, Denpasar 41359, Lampung', 'Aktif', '(+62) 671 8244 1701', 'amelia.rahmi.aryani@company.com', 1, 1, '2023-06-26', 'avatar-1.jpg', 20),
(25, 'Ifa Mandasari', 'Makassar', '1992-09-27', 'P', 'Ki. Banal No. 753, Samarinda 40152, Jatim', 'Aktif', '(+62) 718 8429 3416', 'ifa.mandasari@company.com', 1, 2, '2024-08-05', 'avatar-1.jpg', 20),
(26, 'Aslijan Jailani', 'Pekanbaru', '1992-04-04', 'L', 'Kpg. Gatot Subroto No. 387, Padangpanjang 76547, NTB', 'Aktif', '(+62) 685 4312 023', 'aslijan.jailani@company.com', 1, 1, '2024-03-10', 'avatar-1.jpg', 17),
(27, 'Darmanto Nainggolan', 'Batam', '2005-06-16', 'L', 'Psr. Yosodipuro No. 65, Balikpapan 10842, Banten', 'Aktif', '(+62) 454 5289 5170', 'darmanto.nainggolan@company.com', 1, 1, '2015-09-01', 'avatar-1.jpg', 16),
(28, 'Wawan Saefullah', 'Surabaya', '1980-05-13', 'P', 'Gg. Sutan Syahrir No. 703, Padangsidempuan 65271, Aceh', 'Aktif', '0349 5595 191', 'wawan.saefullah@company.com', 1, 1, '2022-04-06', 'avatar-1.jpg', 24),
(29, 'Raharja Prayoga S.Ked', 'Medan', '1991-12-04', 'P', 'Kpg. Mulyadi No. 940, Bitung 51089, Sumbar', 'Aktif', '0948 8225 685', 'raharja.prayoga.s.ked@company.com', 1, 1, '2023-08-21', 'avatar-1.jpg', 21),
(30, 'Ciaobella Putri Mayasari', 'Lampung', '1992-05-08', 'P', 'Gg. Baiduri No. 206, Pagar Alam 63100, Sumbar', 'Aktif', '(+62) 877 8998 6139', 'ciaobella.putri.mayasari@company.com', 1, 2, '2021-12-08', 'avatar-1.jpg', 16),
(31, 'Embuh Wibisono', 'Lampung', '1996-06-02', 'L', 'Dk. Ekonomi No. 54, Singkawang 75759, Pabar', 'Aktif', '0596 0265 4603', 'embuh.wibisono@company.com', 1, 2, '2018-04-16', 'avatar-1.jpg', 22),
(32, 'Kawaya Emin Iswahyudi M.M.', 'Batam', '1979-10-25', 'L', 'Kpg. Bak Mandi No. 616, Tual 67314, Bengkulu', 'Aktif', '0860 6794 9398', 'kawaya.emin.iswahyudi.m.m.@company.com', 1, 1, '2016-09-25', 'avatar-1.jpg', 23),
(33, 'Hamima Hassanah', 'Lampung', '2003-11-23', 'L', 'Dk. Bata Putih No. 913, Padangpanjang 99663, Gorontalo', 'Aktif', '(+62) 335 3026 4141', 'hamima.hassanah@company.com', 1, 1, '2017-02-07', 'avatar-1.jpg', 24),
(34, 'Garan Kuswoyo', 'Malang', '1985-03-28', 'L', 'Ds. Flores No. 444, Kendari 15060, Kalbar', 'Aktif', '0595 2484 3287', 'garan.kuswoyo@company.com', 1, 1, '2024-09-27', 'avatar-1.jpg', 20),
(35, 'Nadia Utami M.Farm', 'Surabaya', '1989-01-08', 'P', 'Psr. Babah No. 627, Cimahi 89528, Jateng', 'Aktif', '(+62) 956 2680 3576', 'nadia.utami.m.farm@company.com', 1, 2, '2019-04-25', 'avatar-1.jpg', 13),
(37, 'Caraka Budiman S.E.I', 'Palembang', '1983-08-25', 'L', 'Kpg. Antapani Lama No. 731, Kediri 78474, Bengkulu', 'Aktif', '(+62) 20 4622 6057', 'caraka.budiman.s.e.i@company.com', 1, 1, '2018-09-09', 'avatar-1.jpg', 15),
(38, 'deny', 'batam', '1984-10-18', 'L', 'bengkong', 'Aktif', '(+62) 655 4144 477', 'deny@gmail.com', 1, 1, '2021-02-25', '1757172146_IMG-20250824-WA0009.png', 12),
(39, 'Lidya Ella Laksmiwati', 'Semarang', '1992-08-04', 'L', 'Jln. Labu No. 454, Subulussalam 80472, Jambi', 'Aktif', '0817 7387 992', 'lidya.ella.laksmiwati@company.com', 1, 2, '2025-04-27', 'avatar-1.jpg', 17),
(40, 'Ciaobella Pratiwi', 'Manado', '2001-08-30', 'P', 'Ki. Jamika No. 443, Bontang 24419, Malut', 'Aktif', '0653 3775 183', 'ciaobella.pratiwi@company.com', 1, 1, '2018-05-11', 'avatar-1.jpg', 16),
(41, 'Ciaobella Novitasari', 'Semarang', '1992-12-07', 'L', 'Jr. Jamika No. 215, Lhokseumawe 97030, Sumut', 'Aktif', '0321 2170 147', 'ciaobella.novitasari@company.com', 1, 2, '2018-11-23', 'avatar-1.jpg', 15),
(42, 'Gadang Sihombing', 'Jakarta', '1985-09-25', 'P', 'Kpg. Muwardi No. 763, Makassar 20926, DKI', 'Aktif', '(+62) 636 6460 5335', 'gadang.sihombing@company.com', 1, 2, '2021-05-10', 'avatar-1.jpg', 19),
(43, 'Kani Puspita S.Pt', 'Jambi', '1985-01-14', 'L', 'Ds. Bazuka Raya No. 372, Salatiga 14704, Kepri', 'Aktif', '(+62) 432 4330 9840', 'kani.puspita.s.pt@company.com', 1, 1, '2022-06-26', 'avatar-1.jpg', 16),
(44, 'Safina Ami Lestari S.Gz', 'Pontianak', '1992-05-02', 'L', 'Gg. Dipenogoro No. 39, Medan 41158, Riau', 'Aktif', '(+62) 319 9248 988', 'safina.ami.lestari.s.gz@company.com', 1, 2, '2018-09-13', 'avatar-1.jpg', 19),
(45, 'Heru Kayun Widodo', 'Batam', '1994-07-13', 'P', 'Psr. Yogyakarta No. 358, Sorong 21118, Riau', 'Aktif', '(+62) 722 7283 2708', 'heru.kayun.widodo@company.com', 1, 1, '2020-04-11', 'avatar-1.jpg', 19),
(46, 'Farhunnisa Melani', 'Pekanbaru', '1995-12-23', 'L', 'Kpg. Bacang No. 215, Balikpapan 43203, Bali', 'Aktif', '0289 8256 4068', 'farhunnisa.melani@company.com', 1, 2, '2016-04-26', 'avatar-1.jpg', 24),
(47, 'Caturangga Sinaga S.E.', 'Pontianak', '1994-05-17', 'P', 'Ds. Pahlawan No. 333, Solok 32713, Sulbar', 'Aktif', '(+62) 225 6834 055', 'caturangga.sinaga.s.e.@company.com', 1, 2, '2024-09-11', 'avatar-1.jpg', 18),
(48, 'Ifa Astuti', 'Palembang', '1992-09-26', 'L', 'Gg. Bak Mandi No. 513, Banda Aceh 95611, Malut', 'Aktif', '(+62) 751 2682 3616', 'ifa.astuti@company.com', 1, 1, '2025-07-02', 'avatar-1.jpg', 21),
(49, 'Galar Iswahyudi', 'Bengkulu', '1989-10-07', 'L', 'Ki. Suprapto No. 23, Ambon 44954, Pabar', 'Aktif', '0739 4600 577', 'galar.iswahyudi@company.com', 1, 2, '2020-01-18', 'avatar-1.jpg', 15),
(50, 'Danuja Mustika Sihotang', 'Jambi', '2001-05-31', 'P', 'Psr. Rumah Sakit No. 948, Yogyakarta 79013, Riau', 'Aktif', '(+62) 407 2359 251', 'danuja.mustika.sihotang@company.com', 1, 1, '2022-03-09', 'avatar-1.jpg', 24),
(51, 'Vino Ganjaran Salahudin', 'Yogyakarta', '1986-03-15', 'P', 'Gg. Dewi Sartika No. 669, Tasikmalaya 64587, Sumsel', 'Aktif', '0209 9882 349', 'vino.ganjaran.salahudin@company.com', 1, 2, '2019-10-17', 'avatar-1.jpg', 17),
(52, 'Cindy Dewi Namaga M.Ak', 'Bengkulu', '1986-06-15', 'P', 'Gg. B.Agam Dlm No. 51, Banjar 20040, Sumsel', 'Aktif', '(+62) 787 1782 7295', 'cindy.dewi.namaga.m.ak@company.com', 1, 1, '2023-01-23', 'avatar-1.jpg', 18),
(53, 'Kemba Hutasoit', 'Batam', '1983-07-01', 'P', 'Gg. Pasirkoja No. 749, Sungai Penuh 51269, Lampung', 'Aktif', '0807 839 044', 'kemba.hutasoit@company.com', 1, 2, '2025-03-18', 'avatar-1.jpg', 20),
(54, 'Uli Wijayanti', 'Jambi', '1982-10-08', 'L', 'Ki. Dago No. 43, Bau-Bau 35698, Sultra', 'Aktif', '028 7997 975', 'uli.wijayanti@company.com', 1, 1, '2019-08-06', 'avatar-1.jpg', 22),
(55, 'Usman Nugroho', 'Semarang', '2000-10-22', 'P', 'Ds. Abang No. 746, Pagar Alam 82800, DKI', 'Aktif', '(+62) 270 1624 4678', 'usman.nugroho@company.com', 1, 1, '2018-12-02', 'avatar-1.jpg', 20),
(56, 'Karman Pranowo', 'Padang', '1984-11-17', 'L', 'Dk. Kyai Gede No. 358, Bontang 27836, Papua', 'Aktif', '0901 5518 0720', 'karman.pranowo@company.com', 1, 1, '2020-10-12', 'avatar-1.jpg', 24),
(57, 'Asirwada Widodo', 'Palembang', '1990-05-19', 'P', 'Ki. Bahagia  No. 701, Balikpapan 56628, Pabar', 'Aktif', '(+62) 872 4091 6617', 'asirwada.widodo@company.com', 1, 1, '2017-09-15', 'avatar-1.jpg', 14),
(58, 'Clara Karen Kusmawati', 'Lampung', '1990-10-22', 'P', 'Psr. Sutarjo No. 615, Palu 12345, Jatim', 'Aktif', '0720 8225 032', 'clara.karen.kusmawati@company.com', 1, 1, '2017-12-22', 'avatar-1.jpg', 16),
(59, 'Siti Maria Kuswandari', 'Malang', '1994-04-05', 'P', 'Gg. Reksoninten No. 846, Parepare 33266, Sultra', 'Aktif', '026 1693 245', 'siti.maria.kuswandari@company.com', 1, 2, '2025-04-15', 'avatar-1.jpg', 17),
(60, 'Kemal Simbolon', 'Surabaya', '1991-12-28', 'P', 'Ki. Elang No. 249, Prabumulih 52384, Aceh', 'Aktif', '(+62) 409 5584 3355', 'kemal.simbolon@company.com', 1, 2, '2018-10-06', 'avatar-1.jpg', 22),
(61, 'Hani Andriani', 'Surabaya', '1989-12-09', 'P', 'Ki. Suryo Pranoto No. 747, Bukittinggi 80286, Papua', 'Aktif', '(+62) 896 4005 093', 'hani.andriani@company.com', 1, 2, '2025-03-16', 'avatar-1.jpg', 20),
(62, 'Hartana Jamil Prakasa S.Ked', 'Pekanbaru', '1996-06-09', 'P', 'Jln. Bakhita No. 403, Batu 31104, Sulteng', 'Aktif', '(+62) 687 2039 608', 'hartana.jamil.prakasa.s.ked@company.com', 1, 1, '2022-11-18', 'avatar-1.jpg', 12),
(63, 'Respati Gunawan S.Pt', 'Palembang', '1995-05-20', 'L', 'Dk. Salak No. 431, Prabumulih 89791, Sulteng', 'Aktif', '(+62) 942 5229 158', 'respati.gunawan.s.pt@company.com', 1, 2, '2016-01-11', 'avatar-1.jpg', 19),
(64, 'Nurul Pratiwi', 'Yogyakarta', '1997-05-05', 'P', 'Jln. Bakti No. 934, Tebing Tinggi 59950, Kalteng', 'Aktif', '(+62) 845 8329 5713', 'nurul.pratiwi@company.com', 1, 2, '2018-06-16', 'avatar-1.jpg', 17),
(65, 'Irfan Nugroho', 'Denpasar', '1992-05-08', 'L', 'Kpg. Abang No. 887, Pariaman 10781, Sultra', 'Aktif', '0876 0942 784', 'irfan.nugroho@company.com', 1, 2, '2020-02-14', 'avatar-1.jpg', 20),
(66, 'Maida Nasyiah S.T.', 'Surabaya', '1976-11-10', 'P', 'Psr. Nangka No. 398, Padang 38982, Maluku', 'Aktif', '0874 555 057', 'maida.nasyiah.s.t.@company.com', 1, 2, '2015-07-28', 'avatar-1.jpg', 20),
(67, 'hanaakun', 'batam', '2005-01-06', 'L', 'tinggal sama deny', 'Aktif', '082279732844', 'Denyriansyah3@gmail.com', 1, 2, '2025-09-06', '1757173397_IMG-20250824-WA0009.png', 12),
(68, 'denykepala', 'batam', '2005-01-09', 'L', 'bengkong', 'Aktif', '082279732843', 'Denyriansyah311@gmail.com', 5, 2, '2025-09-08', 'avatar-1.jpg', 12),
(69, 'Rafles Pegawai', 'Batam', '2005-10-12', 'L', 'Taman Jaya Asri', 'Aktif', '12345678998789', 'raflesyudaa@gmail.com', 1, 1, '2024-01-01', '1759818744_download.jpeg', 2),
(70, 'Rafles HRD', 'Batam', '2005-10-12', 'L', 'Taman Jaya Asri', 'Aktif', '123123123332', 'rafleshrd@gmail.com', 3, 3, '2024-01-01', '', 2),
(71, 'Rafles Kepala Yayasan', 'Batam', '2005-10-12', 'L', 'Taman Jaya Asri', 'Aktif', '918266312', 'rafleskepalayayasan@gmail.com', 5, 3, '2024-01-01', '', 2),
(72, 'Rafles Staff', 'Batam', '2005-10-12', 'L', 'Taman Jaya Asri', 'Aktif', '12312312356743', 'raflesstaff@gmail.com', 1, 1, '2024-01-01', '', 2),
(73, 'Rafles Kepala Departemen', 'Batam', '2005-10-12', 'L', 'Taman Jaya Asri', 'Aktif', '12566543267', 'rafleskepaladepartemen@gmail.com', 4, 1, '2024-01-01', '', 2);

--
-- Triggers `pegawai`
--
DELIMITER $$
CREATE TRIGGER `pegawai_log_activity_delete` AFTER DELETE ON `pegawai` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Pegawai dihapus: ", OLD.nama),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `pegawai_log_activity_insert` AFTER INSERT ON `pegawai` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Pegawai baru ditambahkan: ", NEW.nama),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `pegawai_log_activity_update` AFTER UPDATE ON `pegawai` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Data pegawai diupdate: ", NEW.nama),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `penilaian`
--

CREATE TABLE `penilaian` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `periode_id` bigint(20) UNSIGNED NOT NULL,
  `dinilai_pegawai_id` int(11) NOT NULL,
  `penilai_pegawai_id` int(11) NOT NULL,
  `status` varchar(255) NOT NULL DEFAULT 'draft',
  `total_nilai` int(11) DEFAULT 0,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `penilaian`
--

INSERT INTO `penilaian` (`id`, `periode_id`, `dinilai_pegawai_id`, `penilai_pegawai_id`, `status`, `total_nilai`, `created_at`, `updated_at`) VALUES
(2, 1, 2, 1, 'belum_diisi', 0, '2025-07-01 03:22:19', '2025-07-01 03:22:19'),
(3, 1, 3, 1, 'selesai', 25, '2025-07-01 03:22:40', '2025-07-01 13:09:59'),
(4, 1, 6, 1, 'selesai', 25, '2025-07-01 04:14:43', '2025-07-01 04:18:22'),
(5, 2, 3, 1, 'selesai', 20, '2025-07-01 13:30:36', '2025-07-01 13:31:00');

--
-- Triggers `penilaian`
--
DELIMITER $$
CREATE TRIGGER `penilaian_log_activity_delete` AFTER DELETE ON `penilaian` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Penilaian dihapus dengan status: ", OLD.status),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `penilaian_log_activity_insert` AFTER INSERT ON `penilaian` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Penilaian baru dengan status: ", NEW.status),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `penilaian_log_activity_update` AFTER UPDATE ON `penilaian` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Penilaian diupdate dengan status: ", NEW.status),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `periode_kuisioner`
--

CREATE TABLE `periode_kuisioner` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `periode_id` bigint(20) UNSIGNED NOT NULL,
  `kuisioner_id` bigint(20) UNSIGNED NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `periode_kuisioner`
--

INSERT INTO `periode_kuisioner` (`id`, `periode_id`, `kuisioner_id`, `created_at`, `updated_at`) VALUES
(30, 1, 68, '2025-06-30 09:15:04', '2025-06-30 09:15:04'),
(31, 1, 25, '2025-06-30 09:15:04', '2025-06-30 09:15:04'),
(32, 1, 26, '2025-06-30 09:15:04', '2025-06-30 09:15:04'),
(33, 1, 33, '2025-06-30 09:15:04', '2025-06-30 09:15:04'),
(34, 1, 17, '2025-06-30 09:15:04', '2025-06-30 09:15:04'),
(35, 2, 68, '2025-07-01 13:29:55', '2025-07-01 13:29:55'),
(36, 2, 25, '2025-07-01 13:29:55', '2025-07-01 13:29:55'),
(37, 2, 33, '2025-07-01 13:29:55', '2025-07-01 13:29:55'),
(38, 2, 37, '2025-07-01 13:29:55', '2025-07-01 13:29:55'),
(39, 2, 17, '2025-07-01 13:29:55', '2025-07-01 13:29:55'),
(41, 4, 68, '2025-07-10 14:15:17', '2025-07-10 14:15:17'),
(42, 4, 25, '2025-07-10 14:15:17', '2025-07-10 14:15:17'),
(43, 4, 27, '2025-07-10 14:15:17', '2025-07-10 14:15:17'),
(44, 4, 35, '2025-07-10 14:15:17', '2025-07-10 14:15:17'),
(45, 4, 4, '2025-07-10 14:15:17', '2025-07-10 14:15:17'),
(46, 4, 26, '2025-07-11 03:13:08', '2025-07-11 03:13:08');

--
-- Triggers `periode_kuisioner`
--
DELIMITER $$
CREATE TRIGGER `periode_kuisioner_log_activity_delete` AFTER DELETE ON `periode_kuisioner` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Periode kuisioner dihapus untuk kuisioner ID: ", OLD.kuisioner_id),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `periode_kuisioner_log_activity_insert` AFTER INSERT ON `periode_kuisioner` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Periode kuisioner baru ditambahkan untuk kuisioner ID: ", NEW.kuisioner_id),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `periode_kuisioner_log_activity_update` AFTER UPDATE ON `periode_kuisioner` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Periode kuisioner diupdate untuk kuisioner ID: ", NEW.kuisioner_id),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `periode_penilaian`
--

CREATE TABLE `periode_penilaian` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `nama_periode` varchar(255) NOT NULL COMMENT 'Contoh: Semester 1 2025',
  `semester` tinyint(4) DEFAULT NULL COMMENT '1 atau 2 (opsional)',
  `tahun` year(4) NOT NULL COMMENT 'Tahun periode, contoh: 2025',
  `tanggal_mulai` date NOT NULL COMMENT 'Tanggal mulai periode',
  `tanggal_selesai` date NOT NULL COMMENT 'Tanggal akhir periode',
  `status` enum('belum_dibuka','aktif','selesai') NOT NULL DEFAULT 'belum_dibuka',
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `periode_penilaian`
--

INSERT INTO `periode_penilaian` (`id`, `nama_periode`, `semester`, `tahun`, `tanggal_mulai`, `tanggal_selesai`, `status`, `created_at`, `updated_at`) VALUES
(1, 'Semester 1 2025', 1, '2025', '2025-01-01', '2025-06-30', 'aktif', '2025-06-29 03:22:07', '2025-06-29 03:22:07'),
(2, 'Semester 2 2025', 2, '2025', '2025-07-01', '2025-12-31', 'aktif', '2025-06-29 03:23:10', '2025-07-01 13:30:03'),
(4, 'Semester 1 2027', 1, '2027', '2027-01-01', '2027-06-30', 'belum_dibuka', '2025-06-30 05:05:43', '2025-06-30 05:05:43');

--
-- Triggers `periode_penilaian`
--
DELIMITER $$
CREATE TRIGGER `periode_penilaian_log_activity_delete` AFTER DELETE ON `periode_penilaian` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Periode penilaian dihapus: ", OLD.nama_periode),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `periode_penilaian_log_activity_insert` AFTER INSERT ON `periode_penilaian` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Periode penilaian baru: ", NEW.nama_periode, " - Semester: ", NEW.semester),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `periode_penilaian_log_activity_update` AFTER UPDATE ON `periode_penilaian` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("Periode penilaian diupdate: ", NEW.nama_periode, " - Status: ", NEW.status),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `sessions`
--

CREATE TABLE `sessions` (
  `id` varchar(255) NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  `ip_address` varchar(45) DEFAULT NULL,
  `user_agent` text DEFAULT NULL,
  `payload` text NOT NULL,
  `last_activity` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `sessions`
--

INSERT INTO `sessions` (`id`, `user_id`, `ip_address`, `user_agent`, `payload`, `last_activity`) VALUES
('c4KtIVHL7y5KnoXjCY1sEIYfVl1OgCNVV4IeRGbe', 48, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36', 'YTo0OntzOjY6Il90b2tlbiI7czo0MDoiTEtWTG5qUUM1UGpBRmwxdXl4OGpOSVQ4T00wTFd0ckdRNU8wb3NJUyI7czo5OiJfcHJldmlvdXMiO2E6MTp7czozOiJ1cmwiO3M6NDY6Imh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9rZXBhbGFfeWF5YXNhbi9kYXNoYm9hcmQiO31zOjY6Il9mbGFzaCI7YToyOntzOjM6Im9sZCI7YTowOnt9czozOiJuZXciO2E6MDp7fX1zOjUwOiJsb2dpbl93ZWJfNTliYTM2YWRkYzJiMmY5NDAxNTgwZjAxNGM3ZjU4ZWE0ZTMwOTg5ZCI7aTo0ODt9', 1757900280),
('qRiWEwl27IOiQL3qD2nyHQF08cX3BU5JvmOAyHkS', NULL, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36', 'YTozOntzOjY6Il90b2tlbiI7czo0MDoiWEdKMEpLclE2UHBiTUJnQjRkSVM0VTdXUDMxa21ROHp3T3FCcnBIYSI7czo5OiJfcHJldmlvdXMiO2E6MTp7czozOiJ1cmwiO3M6Mjc6Imh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9sb2dpbiI7fXM6NjoiX2ZsYXNoIjthOjI6e3M6Mzoib2xkIjthOjA6e31zOjM6Im5ldyI7YTowOnt9fX0=', 1759903369);

-- --------------------------------------------------------

--
-- Table structure for table `user`
--

CREATE TABLE `user` (
  `id_user` int(11) NOT NULL,
  `username` varchar(255) NOT NULL,
  `password` varchar(255) NOT NULL,
  `role` enum('pegawai','hrd','kepala_yayasan') NOT NULL,
  `id_pegawai` int(11) DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `user`
--

INSERT INTO `user` (`id_user`, `username`, `password`, `role`, `id_pegawai`, `created_at`, `updated_at`) VALUES
(5, 'danu', '$2y$12$NCJ.7UPCy10slY4qMm9IK.Y0VB.bGbu7fiOjBa9O5VJ4iiGBH861.', 'pegawai', 1, NULL, NULL),
(6, 'staff', '$2y$12$O.b6LkZji9jn8ntIuU.BI.2.XwMBUkNG3S8uQUWtHuop7nZYBZcqS', 'hrd', 2, NULL, NULL),
(20, 'ellsa', '$2y$12$kateH.W0n3d2QgYQ7QWGDOBMKq6e6VTJ.kzI0H3BZDSxE9idXoH4i', 'pegawai', 5, NULL, NULL),
(22, 'ahmad', '$2y$12$bbr.b6FTZWv/kFcto/Hd5ut9nbDyFP54Y4ojQbpyOvRmzxDmoQHgS', 'kepala_yayasan', 6, '2025-07-09 06:28:10', '2025-07-10 02:31:15'),
(24, 'zahra', '$2y$12$7OKGVyGPYx5eHgzq7SQc3OgDeEY3.cfnsIEhxP1V4VpJ5QwrCkfH6', 'pegawai', 17, '2025-07-15 05:36:25', '2025-07-15 05:41:58'),
(25, 'ibrahimmartanahakim', '$2y$12$JeW2vM5kunwc2b2.60zIte/qz8dqW4V/TWxY1RpSCclBGHPVrHyay', 'pegawai', 18, '2025-07-15 05:36:32', '2025-07-15 05:36:32'),
(26, 'betaniakusmawati', '$2y$12$EhMXvUjxBrHcmwio/0l5Bu6Jd3PGA6NbrqsF18UYy9qeSYSjAVCN6', 'pegawai', 19, '2025-07-15 05:36:44', '2025-07-15 05:36:44'),
(27, 'darmansimbolon', '$2y$12$OVoY2LMXItcTXwqbwD892ea8tk.ji8vDQHNcdWVVCyyO4XBNQD2wa', 'pegawai', 20, '2025-07-15 05:36:48', '2025-07-15 05:36:48'),
(28, 'alambananatsir', '$2y$12$ov8IQnm0mlvHBxEJS7G8pObaBNcbmb4D2OmsMGzqTml117..sKsVK', 'pegawai', 21, '2025-07-15 05:36:52', '2025-07-15 05:36:52'),
(29, 'jasmanin', '$2y$12$NdmwaTV7bnaXABSU00I6puRvigQbpWMaJROaUrCIJnMcagCXTHNxi', 'pegawai', 22, '2025-07-15 05:36:56', '2025-07-15 05:44:19'),
(30, 'donosaragihspd', '$2y$12$fk/bz6gsL2n6wa.i0BM49uSPSs73kYgrE/W6cY4o55FoeyrPo1wPa', 'pegawai', 23, '2025-07-15 05:44:00', '2025-07-15 05:44:00'),
(31, 'amelia', '$2y$12$fJyOw.nXo6zw125sI90RMe2Cy97U2YglZi8HsdOIlfa4VQds3sYkS', 'pegawai', 24, '2025-07-15 05:44:55', '2025-07-15 05:44:55'),
(35, 'kepala', '$2y$12$CHNNVFUblSxjUR4TLOV7/u1TZC/VtefvEnnji7L0vm6RYnpKRjzKW', 'hrd', 5, NULL, NULL),
(36, 'pegawai', '$2y$12$0xURF09rVHVjdujrvN54ruWC9HwHqW4Ydzxz5vRU78Ljw2Bl6.7Je', 'pegawai', 5, NULL, NULL),
(39, 'deny', '$2y$12$DBWnWOFTrPO5r7fglK17LOpftDHjWn7porpgqTbYYROxlDvBD9/ES', 'pegawai', 38, NULL, '2025-09-11 07:13:24'),
(43, 'denyri', '$2y$12$mcoTeaf2IwiR0GsUBgC/J.ynZp8.AIZNkyxiTp5iBnqjxZpP3D7Gy', 'pegawai', 42, NULL, NULL),
(46, 'denyhrd', '$2y$12$z.E37oUGwdtDjKZoVnWxwewCAwucBHxBry.KgDV9u8CtM/NwHozm.', 'hrd', 20, NULL, NULL),
(47, 'hana', '$2y$12$ZTlotnyg8sf8y4vDgwNKy.XipWc8AXrIsuLLtUXpM2cm7cBdtp.EO', 'hrd', 67, '2025-09-06 15:44:18', '2025-09-06 15:44:18'),
(48, 'denykepala', '$2y$12$CjXSWXLNg7DILs71l5bLUOSeq7.1XFARczNfGZ0NFSVs1eMCgSgU.', 'kepala_yayasan', 68, '2025-09-08 01:58:04', '2025-09-08 01:58:04'),
(49, 'raflespegawai', '$2y$12$XaUxRpuzHDqYXnBMNbAiwu4zYW1Axa3nS0LaURr91jnOuigMeAiGi', 'pegawai', 69, NULL, NULL),
(50, 'rafleshrd', '$2y$12$rBFUp4C/8JzAmK6kCZEFQuCS7TZ94vvQQ8D6qn17vBfg0LInal0bK', 'hrd', 70, NULL, NULL),
(51, 'rafleskepalayayasan', '$2y$12$omlB2lfEaQRoZ67WlKa7Ye6ijUGNY2ZDyoQ.Qcm5DZLMOzMJTZpUW', 'kepala_yayasan', 71, NULL, NULL),
(52, 'raflesstaff', '$2y$12$BA61WHOd1xvNNsC4WuGrKekV1Scne4fXZAY544fGn/P/NAipVldX2', 'hrd', 72, NULL, NULL),
(53, 'rafleskepaladepartemen', '$2y$12$ImfcWS3k1lac/B6wmlDrcOjjqRw3dOuewV/fSu/V.nL060dPe99qC', 'kepala_yayasan', 73, NULL, NULL);

--
-- Triggers `user`
--
DELIMITER $$
CREATE TRIGGER `user_log_activity_delete` AFTER DELETE ON `user` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("User dihapus: ", OLD.username),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `user_log_activity_insert` AFTER INSERT ON `user` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("User baru ditambahkan: ", NEW.username),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `user_log_activity_update` AFTER UPDATE ON `user` FOR EACH ROW BEGIN
                IF @current_user_id IS NOT NULL THEN
                    INSERT INTO log_activity (
                        id_user,
                        keterangan,
                        created_at,
                        updated_at
                    )
                    VALUES (
                        @current_user_id,
                        CONCAT("User diupdate: ", NEW.username),
                        NOW(),
                        NOW()
                    );
                END IF;
            END
$$
DELIMITER ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `cuti`
--
ALTER TABLE `cuti`
  ADD PRIMARY KEY (`id_cuti`),
  ADD KEY `cuti_id_pegawai_index` (`id_pegawai`),
  ADD KEY `cuti_id_jenis_cuti_index` (`id_jenis_cuti`),
  ADD KEY `cuti_status_cuti_index` (`status_cuti`),
  ADD KEY `cuti_tanggal_pengajuan_index` (`tanggal_pengajuan`);

--
-- Indexes for table `departemen`
--
ALTER TABLE `departemen`
  ADD PRIMARY KEY (`id_departemen`),
  ADD KEY `fk_kepala_departemen` (`kepala_departemen`);

--
-- Indexes for table `jabatan`
--
ALTER TABLE `jabatan`
  ADD PRIMARY KEY (`id_jabatan`);

--
-- Indexes for table `jawaban_kuisioner`
--
ALTER TABLE `jawaban_kuisioner`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `unique_jawaban_kuisioner` (`penilaian_id`,`kuisioner_id`),
  ADD KEY `jawaban_kuisioner_penilaian_id_index` (`penilaian_id`),
  ADD KEY `jawaban_kuisioner_kuisioner_id_index` (`kuisioner_id`),
  ADD KEY `jawaban_kuisioner_skor_index` (`skor`);

--
-- Indexes for table `jenis_cuti`
--
ALTER TABLE `jenis_cuti`
  ADD PRIMARY KEY (`id_jenis_cuti`),
  ADD KEY `jenis_cuti_nama_jenis_cuti_index` (`nama_jenis_cuti`),
  ADD KEY `jenis_cuti_is_active_index` (`is_active`);

--
-- Indexes for table `kehadiran`
--
ALTER TABLE `kehadiran`
  ADD PRIMARY KEY (`id_kehadiran`),
  ADD KEY `id_pegawai` (`id_pegawai`);

--
-- Indexes for table `kuisioner`
--
ALTER TABLE `kuisioner`
  ADD PRIMARY KEY (`id`),
  ADD KEY `kuisioner_kategori_index` (`kategori`),
  ADD KEY `kuisioner_aktif_index` (`aktif`),
  ADD KEY `kuisioner_kategori_aktif_index` (`kategori`,`aktif`);

--
-- Indexes for table `log_activity`
--
ALTER TABLE `log_activity`
  ADD PRIMARY KEY (`id_log_activity`),
  ADD KEY `log_activity_id_user_foreign` (`id_user`);

--
-- Indexes for table `lokasi_kantor`
--
ALTER TABLE `lokasi_kantor`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `migrations`
--
ALTER TABLE `migrations`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `pegawai`
--
ALTER TABLE `pegawai`
  ADD PRIMARY KEY (`id_pegawai`),
  ADD KEY `id_jabatan` (`id_jabatan`),
  ADD KEY `id_departemen` (`id_departemen`);

--
-- Indexes for table `penilaian`
--
ALTER TABLE `penilaian`
  ADD PRIMARY KEY (`id`),
  ADD KEY `penilaian_dinilai_pegawai_id_foreign` (`dinilai_pegawai_id`),
  ADD KEY `penilaian_penilai_pegawai_id_foreign` (`penilai_pegawai_id`),
  ADD KEY `penilaian_periode_id_foreign` (`periode_id`);

--
-- Indexes for table `periode_kuisioner`
--
ALTER TABLE `periode_kuisioner`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `unique_periode_kuisioner` (`periode_id`,`kuisioner_id`),
  ADD KEY `periode_kuisioner_periode_id_index` (`periode_id`),
  ADD KEY `periode_kuisioner_kuisioner_id_index` (`kuisioner_id`);

--
-- Indexes for table `periode_penilaian`
--
ALTER TABLE `periode_penilaian`
  ADD PRIMARY KEY (`id`),
  ADD KEY `periode_penilaian_tahun_semester_index` (`tahun`,`semester`),
  ADD KEY `periode_penilaian_status_index` (`status`),
  ADD KEY `periode_penilaian_tanggal_mulai_tanggal_selesai_index` (`tanggal_mulai`,`tanggal_selesai`);

--
-- Indexes for table `sessions`
--
ALTER TABLE `sessions`
  ADD PRIMARY KEY (`id`),
  ADD KEY `sessions_user_id_index` (`user_id`),
  ADD KEY `sessions_last_activity_index` (`last_activity`);

--
-- Indexes for table `user`
--
ALTER TABLE `user`
  ADD PRIMARY KEY (`id_user`),
  ADD UNIQUE KEY `username` (`username`),
  ADD KEY `id_pegawai` (`id_pegawai`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `cuti`
--
ALTER TABLE `cuti`
  MODIFY `id_cuti` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=16;

--
-- AUTO_INCREMENT for table `departemen`
--
ALTER TABLE `departemen`
  MODIFY `id_departemen` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT for table `jabatan`
--
ALTER TABLE `jabatan`
  MODIFY `id_jabatan` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;

--
-- AUTO_INCREMENT for table `jawaban_kuisioner`
--
ALTER TABLE `jawaban_kuisioner`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=26;

--
-- AUTO_INCREMENT for table `jenis_cuti`
--
ALTER TABLE `jenis_cuti`
  MODIFY `id_jenis_cuti` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;

--
-- AUTO_INCREMENT for table `kehadiran`
--
ALTER TABLE `kehadiran`
  MODIFY `id_kehadiran` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=174;

--
-- AUTO_INCREMENT for table `kuisioner`
--
ALTER TABLE `kuisioner`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=72;

--
-- AUTO_INCREMENT for table `log_activity`
--
ALTER TABLE `log_activity`
  MODIFY `id_log_activity` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=249;

--
-- AUTO_INCREMENT for table `lokasi_kantor`
--
ALTER TABLE `lokasi_kantor`
  MODIFY `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;

--
-- AUTO_INCREMENT for table `migrations`
--
ALTER TABLE `migrations`
  MODIFY `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=20;

--
-- AUTO_INCREMENT for table `pegawai`
--
ALTER TABLE `pegawai`
  MODIFY `id_pegawai` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=74;

--
-- AUTO_INCREMENT for table `penilaian`
--
ALTER TABLE `penilaian`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

--
-- AUTO_INCREMENT for table `periode_kuisioner`
--
ALTER TABLE `periode_kuisioner`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=47;

--
-- AUTO_INCREMENT for table `periode_penilaian`
--
ALTER TABLE `periode_penilaian`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT for table `user`
--
ALTER TABLE `user`
  MODIFY `id_user` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=54;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `cuti`
--
ALTER TABLE `cuti`
  ADD CONSTRAINT `cuti_id_jenis_cuti_foreign` FOREIGN KEY (`id_jenis_cuti`) REFERENCES `jenis_cuti` (`id_jenis_cuti`) ON DELETE CASCADE,
  ADD CONSTRAINT `cuti_id_pegawai_foreign` FOREIGN KEY (`id_pegawai`) REFERENCES `pegawai` (`id_pegawai`) ON DELETE CASCADE;

--
-- Constraints for table `departemen`
--
ALTER TABLE `departemen`
  ADD CONSTRAINT `fk_kepala_departemen` FOREIGN KEY (`kepala_departemen`) REFERENCES `pegawai` (`id_pegawai`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `jawaban_kuisioner`
--
ALTER TABLE `jawaban_kuisioner`
  ADD CONSTRAINT `jawaban_kuisioner_kuisioner_id_foreign` FOREIGN KEY (`kuisioner_id`) REFERENCES `kuisioner` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `jawaban_kuisioner_penilaian_id_foreign` FOREIGN KEY (`penilaian_id`) REFERENCES `penilaian` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `kehadiran`
--
ALTER TABLE `kehadiran`
  ADD CONSTRAINT `kehadiran_ibfk_1` FOREIGN KEY (`id_pegawai`) REFERENCES `pegawai` (`id_pegawai`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `log_activity`
--
ALTER TABLE `log_activity`
  ADD CONSTRAINT `log_activity_id_user_foreign` FOREIGN KEY (`id_user`) REFERENCES `user` (`id_user`) ON DELETE CASCADE;

--
-- Constraints for table `pegawai`
--
ALTER TABLE `pegawai`
  ADD CONSTRAINT `pegawai_ibfk_1` FOREIGN KEY (`id_jabatan`) REFERENCES `jabatan` (`id_jabatan`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `pegawai_ibfk_2` FOREIGN KEY (`id_departemen`) REFERENCES `departemen` (`id_departemen`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `penilaian`
--
ALTER TABLE `penilaian`
  ADD CONSTRAINT `penilaian_dinilai_pegawai_id_foreign` FOREIGN KEY (`dinilai_pegawai_id`) REFERENCES `pegawai` (`id_pegawai`) ON DELETE CASCADE,
  ADD CONSTRAINT `penilaian_penilai_pegawai_id_foreign` FOREIGN KEY (`penilai_pegawai_id`) REFERENCES `pegawai` (`id_pegawai`) ON DELETE CASCADE,
  ADD CONSTRAINT `penilaian_periode_id_foreign` FOREIGN KEY (`periode_id`) REFERENCES `periode_penilaian` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `periode_kuisioner`
--
ALTER TABLE `periode_kuisioner`
  ADD CONSTRAINT `periode_kuisioner_kuisioner_id_foreign` FOREIGN KEY (`kuisioner_id`) REFERENCES `kuisioner` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `periode_kuisioner_periode_id_foreign` FOREIGN KEY (`periode_id`) REFERENCES `periode_penilaian` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `user`
--
ALTER TABLE `user`
  ADD CONSTRAINT `user_ibfk_1` FOREIGN KEY (`id_pegawai`) REFERENCES `pegawai` (`id_pegawai`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
